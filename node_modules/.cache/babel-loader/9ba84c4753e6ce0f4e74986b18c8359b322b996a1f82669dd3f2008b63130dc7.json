{"ast":null,"code":"import { combineLatest, map, of, switchMap } from 'rxjs';\nimport { u8aToString } from '@polkadot/util';\nimport { memo } from '../util/index.js';\nfunction retrieveNick(api, accountId) {\n  return (accountId && api.query['nicks']?.['nameOf'] ? api.query['nicks']['nameOf'](accountId) : of(undefined)).pipe(map(nameOf => nameOf?.isSome ? u8aToString(nameOf.unwrap()[0]).substring(0, api.consts['nicks']['maxLength'].toNumber()) : undefined));\n}\n/**\n * @name info\n * @description Returns aux. info with regards to an account, current that includes the accountId, accountIndex and nickname\n */\nexport function info(instanceId, api) {\n  return memo(instanceId, address => api.derive.accounts.idAndIndex(address).pipe(switchMap(([accountId, accountIndex]) => combineLatest([of({\n    accountId,\n    accountIndex\n  }), api.derive.accounts.identity(accountId), retrieveNick(api, accountId)])), map(([{\n    accountId,\n    accountIndex\n  }, identity, nickname]) => ({\n    accountId,\n    accountIndex,\n    identity,\n    nickname\n  }))));\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}