{"ast":null,"code":"import { u8aToHex, u8aToU8a } from '@polkadot/util';\nimport { keccakAsU8a } from '../keccak/index.js';\nimport { secp256k1Expand } from '../secp256k1/index.js';\nfunction getH160(u8a) {\n  if ([33, 65].includes(u8a.length)) {\n    u8a = keccakAsU8a(secp256k1Expand(u8a));\n  }\n  return u8a.slice(-20);\n}\nexport function ethereumEncode(addressOrPublic) {\n  if (!addressOrPublic) {\n    return '0x';\n  }\n  const u8aAddress = u8aToU8a(addressOrPublic);\n  if (![20, 32, 33, 65].includes(u8aAddress.length)) {\n    throw new Error(`Invalid address or publicKey provided, received ${u8aAddress.length} bytes input`);\n  }\n  const address = u8aToHex(getH160(u8aAddress), -1, false);\n  const hash = u8aToHex(keccakAsU8a(address), -1, false);\n  let result = '';\n  for (let i = 0; i < 40; i++) {\n    result = `${result}${parseInt(hash[i], 16) > 7 ? address[i].toUpperCase() : address[i]}`;\n  }\n  return `0x${result}`;\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}