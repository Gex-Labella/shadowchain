{"ast":null,"code":"import { stringify } from './stringify.js';\nfunction defaultGetId() {\n  return 'none';\n}\n/**\n * @name memoize\n * @description Memomize the function with a specific instanceId\n */\nexport function memoize(fn, {\n  getInstanceId = defaultGetId\n} = {}) {\n  const cache = {};\n  const memoized = (...args) => {\n    const stringParams = stringify(args);\n    const instanceId = getInstanceId();\n    if (!cache[instanceId]) {\n      cache[instanceId] = {};\n    }\n    if (cache[instanceId][stringParams] === undefined) {\n      cache[instanceId][stringParams] = fn(...args);\n    }\n    return cache[instanceId][stringParams];\n  };\n  memoized.unmemoize = (...args) => {\n    const stringParams = stringify(args);\n    const instanceId = getInstanceId();\n    if (cache[instanceId]?.[stringParams] !== undefined) {\n      delete cache[instanceId][stringParams];\n    }\n  };\n  return memoized;\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}