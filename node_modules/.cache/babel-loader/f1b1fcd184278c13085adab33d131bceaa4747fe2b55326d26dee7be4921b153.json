{"ast":null,"code":"var _jsxFileName = \"c:\\\\Users\\\\Admin\\\\Documents\\\\Keiths\\\\Polkadot\\\\shadowchain\\\\frontend\\\\src\\\\pages\\\\Dashboard.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport { useWalletStore } from '../store/wallet';\nimport { toast } from 'react-toastify';\nimport axios from 'axios';\nimport { AccountConnections } from '../components/AccountConnections';\nimport { RepositoryList } from '../components/RepositoryList';\nimport { BlockchainShadowItems } from '../components/BlockchainShadowItems';\nimport { IdentityCard } from '../components/IdentityCard';\nimport { ActivityFeed } from '../components/ActivityFeed';\nimport { ChainVisualizer } from '../components/ChainVisualizer';\nimport { EncryptionKeySetup } from '../components/EncryptionKeySetup';\nimport AccountSwitcher from '../components/AccountSwitcher';\nimport { getShadowItems, getConsentRecord } from '../services/polkadot';\nimport { grantConsentWithUserSigning, fetchPendingTransactions, processAllPendingTransactions } from '../services/transactions';\nimport { useNavigate } from 'react-router-dom';\nimport { cryptoService } from '../services/crypto';\n\n// Polyfill for Buffer in browser\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst encodeToHex = str => {\n  return Array.from(new TextEncoder().encode(str)).map(b => b.toString(16).padStart(2, '0')).join('');\n};\nconst Dashboard = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    selectedAccount,\n    disconnect\n  } = useWalletStore();\n  const [showAuthorizeModal, setShowAuthorizeModal] = useState(false);\n  const [authorizing, setAuthorizing] = useState(false);\n  const [pendingTransactions, setPendingTransactions] = useState([]);\n  const [showTransactionModal, setShowTransactionModal] = useState(false);\n  const [signingProgress, setSigningProgress] = useState({\n    current: 0,\n    total: 0\n  });\n  const [isSyncing, setIsSyncing] = useState(false);\n  const [activeView, setActiveView] = useState('activity');\n  const [hasEncryptionKey, setHasEncryptionKey] = useState(false);\n  const [checkingEncryption, setCheckingEncryption] = useState(true);\n\n  // Check for consent record\n  const {\n    data: consentRecord\n  } = useQuery({\n    queryKey: ['consent-record', selectedAccount === null || selectedAccount === void 0 ? void 0 : selectedAccount.address],\n    queryFn: async () => {\n      if (!selectedAccount) return null;\n      return await getConsentRecord(selectedAccount.address);\n    },\n    enabled: !!selectedAccount\n  });\n\n  // Check for encryption key and initialize if needed\n  useEffect(() => {\n    const checkEncryptionKey = async () => {\n      if (!selectedAccount) {\n        setHasEncryptionKey(false);\n        setCheckingEncryption(false);\n        return;\n      }\n      setCheckingEncryption(true);\n      try {\n        // Check if user has encryption key registered\n        const apiUrl = process.env.REACT_APP_API_URL || 'http://localhost:3001';\n        const baseUrl = apiUrl.replace(/\\/api\\/?$/, '');\n        const response = await axios.get(`${baseUrl}/api/auth/encryption-key/${selectedAccount.address}`);\n        const hasKey = response.data.hasEncryptionKey;\n        setHasEncryptionKey(hasKey);\n\n        // Try to load and unlock stored keys automatically\n        if (hasKey) {\n          const storedKeys = await cryptoService.loadStoredKeys();\n          if (storedKeys && !storedKeys.unlocked) {\n            // Keys exist but are locked, we'll show UI to unlock them\n            console.log('Encryption keys found but locked');\n          } else if (storedKeys && storedKeys.unlocked) {\n            console.log('Encryption keys loaded and unlocked');\n          }\n        }\n      } catch (error) {\n        console.error('Error checking encryption key:', error);\n        setHasEncryptionKey(false);\n      } finally {\n        setCheckingEncryption(false);\n      }\n    };\n    checkEncryptionKey();\n  }, [selectedAccount]);\n  const {\n    data: items,\n    isLoading,\n    refetch\n  } = useQuery({\n    queryKey: ['shadow-items', selectedAccount === null || selectedAccount === void 0 ? void 0 : selectedAccount.address],\n    queryFn: async () => {\n      if (!selectedAccount) return [];\n      try {\n        const apiUrl = process.env.REACT_APP_API_URL || 'http://localhost:3001';\n        const baseUrl = apiUrl.replace(/\\/api\\/?$/, '');\n        const response = await axios.get(`${baseUrl}/api/shadow/items/${selectedAccount.address}`);\n        if (response.data.items && response.data.items.length > 0) {\n          return response.data.items;\n        }\n        const chainItems = await getShadowItems(selectedAccount.address);\n        return chainItems;\n      } catch (error) {\n        console.error('Error fetching shadow items:', error);\n        return [];\n      }\n    },\n    enabled: !!selectedAccount,\n    refetchInterval: 30000\n  });\n  const handleAuthorize = async () => {\n    if (!selectedAccount) return;\n    setAuthorizing(true);\n    try {\n      const message = `Shadow Chain Consent: I authorize Shadow Chain to encrypt and store my public Web2 activity on-chain. Timestamp: ${Date.now()}`;\n      const messageHash = '0x' + encodeToHex(message).substring(0, 64);\n      await grantConsentWithUserSigning(messageHash);\n      toast.success('Authorization granted successfully!');\n      setShowAuthorizeModal(false);\n      await handleSync();\n      refetch();\n    } catch (error) {\n      console.error('Authorization failed:', error);\n      toast.error('Failed to grant authorization');\n    } finally {\n      setAuthorizing(false);\n    }\n  };\n  const handleSync = async () => {\n    if (!selectedAccount) return;\n    setIsSyncing(true);\n    try {\n      const apiUrl = process.env.REACT_APP_API_URL || 'http://localhost:3001';\n      const baseUrl = apiUrl.replace(/\\/api\\/?$/, '');\n      try {\n        const syncResponse = await axios.post(`${baseUrl}/api/transactions/sync-and-prepare/${selectedAccount.address}`);\n        await refetch();\n        if (syncResponse.data.transactions && syncResponse.data.transactions.length > 0) {\n          setPendingTransactions(syncResponse.data.transactions);\n          setShowTransactionModal(true);\n          toast.success(`${syncResponse.data.transactions.length} new items ready to sign!`);\n        } else {\n          toast.info('Items synced and stored - check your shadow archives');\n        }\n      } catch (syncError) {\n        var _syncError$response;\n        console.error('Sync error:', syncError);\n        if (((_syncError$response = syncError.response) === null || _syncError$response === void 0 ? void 0 : _syncError$response.status) === 400) {\n          toast.error('Please connect your GitHub account first');\n        } else {\n          const transactions = await fetchPendingTransactions(selectedAccount.address);\n          await refetch();\n          if (transactions.length > 0) {\n            setPendingTransactions(transactions);\n            setShowTransactionModal(true);\n          } else {\n            toast.info('No new shadow items to sync');\n          }\n        }\n      }\n    } catch (error) {\n      console.error('Failed to sync:', error);\n      toast.error('Failed to fetch shadow items');\n    } finally {\n      setIsSyncing(false);\n    }\n  };\n  const handleSignAllTransactions = async () => {\n    if (!selectedAccount || pendingTransactions.length === 0) return;\n    setShowTransactionModal(false);\n    const result = await processAllPendingTransactions(selectedAccount.address, (current, total) => setSigningProgress({\n      current,\n      total\n    }));\n    setSigningProgress({\n      current: 0,\n      total: 0\n    });\n    setPendingTransactions([]);\n    refetch();\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex items-center justify-center bg-gradient-dark\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-spinner mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-400 font-mono\",\n          children: \"Loading shadow data...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-dark bg-noise\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n        className: \"bg-glass-dark backdrop-blur-2xl border-r border-glass-light p-6 flex flex-col\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-2xl font-display text-gradient mb-2\",\n            children: \"ShadowChain\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-400 font-mono\",\n            children: \"Web3 Identity Platform\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n          className: \"space-y-2 flex-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveView('activity'),\n            className: `nav-link w-full ${activeView === 'activity' ? 'active' : ''}`,\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-5 h-5\",\n              fill: \"none\",\n              viewBox: \"0 0 24 24\",\n              stroke: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Activity Feed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveView('repositories'),\n            className: `nav-link w-full ${activeView === 'repositories' ? 'active' : ''}`,\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-5 h-5\",\n              fill: \"none\",\n              viewBox: \"0 0 24 24\",\n              stroke: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Repositories\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveView('chain'),\n            className: `nav-link w-full ${activeView === 'chain' ? 'active' : ''}`,\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-5 h-5\",\n              fill: \"none\",\n              viewBox: \"0 0 24 24\",\n              stroke: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Blockchain\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveView('connections'),\n            className: `nav-link w-full ${activeView === 'connections' ? 'active' : ''}`,\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-5 h-5\",\n              fill: \"none\",\n              viewBox: \"0 0 24 24\",\n              stroke: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Connections\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this), consentRecord && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSync,\n          disabled: isSyncing,\n          className: \"btn-neon w-full mt-6\",\n          children: isSyncing ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loading-dots\",\n            style: {\n              justifyContent: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-5 h-5 mr-2\",\n              fill: \"none\",\n              viewBox: \"0 0 24 24\",\n              stroke: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 19\n            }, this), \"Sync Now\"]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6 pt-6 border-t border-glass-light\",\n          children: [/*#__PURE__*/_jsxDEV(AccountSwitcher, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: disconnect,\n            className: \"btn-ghost w-full mt-3 text-sm\",\n            children: \"Disconnect\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"p-8 overflow-y-auto\",\n        children: [!checkingEncryption && !hasEncryptionKey && consentRecord && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-8\",\n          children: /*#__PURE__*/_jsxDEV(EncryptionKeySetup, {\n            onComplete: () => {\n              setHasEncryptionKey(true);\n              toast.success('Encryption keys setup successfully!');\n              refetch(); // Refresh data after key setup\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 13\n        }, this), !consentRecord && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"glass-card mb-8 text-center border-2 border-dot-primary p-8 animate-slide-up\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-20 h-20 mx-auto mb-6 rounded-full bg-gradient-to-br from-dot-primary/20 to-dot-accent/20 flex items-center justify-center\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-10 h-10 text-dot-primary\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-2xl font-display mb-3 text-white\",\n            children: \"Authorization Required\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-400 mb-8 max-w-lg mx-auto\",\n            children: \"Grant consent to start mirroring your Web2 activity on-chain\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowAuthorizeModal(true),\n            className: \"btn-neon\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-5 h-5 mr-2\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 17\n            }, this), \"Authorize Sync\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 13\n        }, this), activeView === 'activity' && /*#__PURE__*/_jsxDEV(ActivityFeed, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 41\n        }, this), activeView === 'repositories' && /*#__PURE__*/_jsxDEV(RepositoryList, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 45\n        }, this), activeView === 'chain' && /*#__PURE__*/_jsxDEV(BlockchainShadowItems, {\n          itemsPerPage: 15,\n          hasEncryptionKey: hasEncryptionKey\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 13\n        }, this), activeView === 'connections' && /*#__PURE__*/_jsxDEV(AccountConnections, {\n          onConnectionChange: refetch\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 44\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"aside\", {\n        className: \"bg-glass-dark backdrop-blur-2xl border-l border-glass-light p-6 space-y-6 overflow-y-auto\",\n        children: [/*#__PURE__*/_jsxDEV(IdentityCard, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 11\n        }, this), hasEncryptionKey && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"glass-card p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-display text-white\",\n              children: \"Encryption\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"badge badge-verified\",\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-4 h-4\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 379,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 19\n              }, this), \"Active\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-400 mb-4\",\n            children: \"Your shadow items are encrypted with your personal key\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: async () => {\n                const exported = await cryptoService.exportKeys();\n                if (exported) {\n                  const blob = new Blob([JSON.stringify(exported, null, 2)], {\n                    type: 'application/json'\n                  });\n                  const url = URL.createObjectURL(blob);\n                  const a = document.createElement('a');\n                  a.href = url;\n                  a.download = 'shadowchain-keys.json';\n                  a.click();\n                  toast.success('Keys exported successfully');\n                }\n              },\n              className: \"btn-ghost text-xs flex-1\",\n              children: \"Export Keys\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                // Open import dialog\n                const input = document.createElement('input');\n                input.type = 'file';\n                input.accept = '.json';\n                input.onchange = async e => {\n                  var _files;\n                  const file = (_files = e.target.files) === null || _files === void 0 ? void 0 : _files[0];\n                  if (file) {\n                    const text = await file.text();\n                    const keys = JSON.parse(text);\n                    const success = await cryptoService.importKeys(keys);\n                    if (success) {\n                      setHasEncryptionKey(true);\n                      toast.success('Keys imported successfully');\n                    } else {\n                      toast.error('Failed to import keys');\n                    }\n                  }\n                };\n                input.click();\n              },\n              className: \"btn-ghost text-xs flex-1\",\n              children: \"Import Keys\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ChainVisualizer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }, this), showTransactionModal && pendingTransactions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-backdrop\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content max-w-2xl p-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start justify-between mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-2xl font-display mb-2 text-white\",\n              children: \"Sign Transactions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 445,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-400\",\n              children: [pendingTransactions.length, \" shadow items ready to be submitted on-chain\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowTransactionModal(false),\n            className: \"text-gray-400 hover:text-white transition-colors p-1\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-6 h-6\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M6 18L18 6M6 6l12 12\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 457,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-glass-white rounded-smooth p-4 mb-6 max-h-64 overflow-y-auto\",\n          children: pendingTransactions.map((tx, index) => {\n            var _tx$source;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between py-3 border-b border-glass-light last:border-0\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `badge ${tx.source === 'github' ? 'badge-verified' : 'badge-pending'}`,\n                  children: ((_tx$source = tx.source) === null || _tx$source === void 0 ? void 0 : _tx$source.toUpperCase()) || 'UNKNOWN'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 467,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-400 text-sm font-mono\",\n                  children: new Date(tx.timestamp < 10000000000 ? tx.timestamp * 1000 : tx.timestamp).toLocaleString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 472,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 466,\n                columnNumber: 19\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-trust-pending/10 border border-trust-pending/30 rounded-smooth p-4 mb-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-start gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-5 h-5 text-trust-pending flex-shrink-0 mt-0.5\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 483,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-300\",\n              children: \"You will be asked to sign each transaction with your wallet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowTransactionModal(false),\n            className: \"btn-ghost flex-1\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 492,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSignAllTransactions,\n            className: \"btn-neon flex-1\",\n            children: [\"Sign All (\", pendingTransactions.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 498,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 491,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 9\n    }, this), signingProgress.total > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-backdrop\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content max-w-md text-center p-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-20 h-20 mx-auto mb-6 rounded-full bg-gradient-to-br from-dot-primary/20 to-dot-accent/20 flex items-center justify-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loading-spinner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 514,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-2xl font-display mb-3 text-white\",\n          children: \"Signing Transactions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 517,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-400 mb-6\",\n          children: \"Please approve each transaction in your wallet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 518,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full h-2 bg-glass-dark rounded-full overflow-hidden mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"h-full bg-gradient-to-r from-dot-primary to-dot-accent transition-all duration-300 shadow-glow-sm\",\n            style: {\n              width: `${signingProgress.current / signingProgress.total * 100}%`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 523,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 522,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm font-mono text-gray-400\",\n          children: [signingProgress.current, \" / \", signingProgress.total]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 529,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 512,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 511,\n      columnNumber: 9\n    }, this), showAuthorizeModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-backdrop\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content max-w-lg p-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start justify-between mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-2xl font-display mb-2 text-white\",\n              children: \"Consent Protocol\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 542,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-400\",\n              children: \"Authorize Shadow Chain to mirror your digital footprint\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 545,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 541,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowAuthorizeModal(false),\n            className: \"text-gray-400 hover:text-white transition-colors p-1\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-6 h-6\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M6 18L18 6M6 6l12 12\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 555,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 554,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 550,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 540,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-glass-white rounded-smooth p-6 mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-display mb-4 text-white\",\n            children: \"By granting consent, you authorize Shadow Chain to:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 561,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"space-y-3 text-sm text-gray-300\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"flex items-start gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-5 h-5 text-trust-verified flex-shrink-0 mt-0.5\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                viewBox: \"0 0 24 24\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 565,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 564,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Access your PUBLIC GitHub repositories and commits\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 567,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 563,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"flex items-start gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-5 h-5 text-trust-verified flex-shrink-0 mt-0.5\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                viewBox: \"0 0 24 24\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 571,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 570,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Access your PUBLIC Twitter/X posts\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 573,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 569,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"flex items-start gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-5 h-5 text-trust-verified flex-shrink-0 mt-0.5\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                viewBox: \"0 0 24 24\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 577,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 576,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Store your Web2 activity data directly on Polkadot\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 579,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 575,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"flex items-start gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-5 h-5 text-trust-verified flex-shrink-0 mt-0.5\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                viewBox: \"0 0 24 24\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 583,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 582,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Make your digital footprint permanently accessible\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 585,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 581,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 562,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6 p-4 bg-trust-pending/10 border border-trust-pending/30 rounded-smooth\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-start gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-5 h-5 text-trust-pending flex-shrink-0 mt-0.5\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                viewBox: \"0 0 24 24\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 592,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 591,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-300\",\n                children: \"Data will be publicly visible on the blockchain\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 594,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 590,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 589,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 560,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowAuthorizeModal(false),\n            className: \"btn-ghost flex-1\",\n            disabled: authorizing,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 602,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleAuthorize,\n            className: \"btn-neon flex-1\",\n            disabled: authorizing,\n            children: authorizing ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"loading-spinner mx-auto\",\n              style: {\n                width: '1.5rem',\n                height: '1.5rem'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 615,\n              columnNumber: 19\n            }, this) : 'Grant Consent'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 609,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 601,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 539,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 538,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 230,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"/qV9kOHGEthO6iFLwLkBS8y1u70=\", false, function () {\n  return [useNavigate, useWalletStore, useQuery, useQuery];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","useQuery","useWalletStore","toast","axios","AccountConnections","RepositoryList","BlockchainShadowItems","IdentityCard","ActivityFeed","ChainVisualizer","EncryptionKeySetup","AccountSwitcher","getShadowItems","getConsentRecord","grantConsentWithUserSigning","fetchPendingTransactions","processAllPendingTransactions","useNavigate","cryptoService","jsxDEV","_jsxDEV","Fragment","_Fragment","encodeToHex","str","Array","from","TextEncoder","encode","map","b","toString","padStart","join","Dashboard","_s","navigate","selectedAccount","disconnect","showAuthorizeModal","setShowAuthorizeModal","authorizing","setAuthorizing","pendingTransactions","setPendingTransactions","showTransactionModal","setShowTransactionModal","signingProgress","setSigningProgress","current","total","isSyncing","setIsSyncing","activeView","setActiveView","hasEncryptionKey","setHasEncryptionKey","checkingEncryption","setCheckingEncryption","data","consentRecord","queryKey","address","queryFn","enabled","checkEncryptionKey","apiUrl","process","env","REACT_APP_API_URL","baseUrl","replace","response","get","hasKey","storedKeys","loadStoredKeys","unlocked","console","log","error","items","isLoading","refetch","length","chainItems","refetchInterval","handleAuthorize","message","Date","now","messageHash","substring","success","handleSync","syncResponse","post","transactions","info","syncError","_syncError$response","status","handleSignAllTransactions","result","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","disabled","style","justifyContent","onComplete","itemsPerPage","onConnectionChange","exported","exportKeys","blob","Blob","JSON","stringify","type","url","URL","createObjectURL","a","document","createElement","href","download","click","input","accept","onchange","e","_files","file","target","files","text","keys","parse","importKeys","tx","index","_tx$source","source","toUpperCase","timestamp","toLocaleString","width","height","_c","$RefreshReg$"],"sources":["c:/Users/Admin/Documents/Keiths/Polkadot/shadowchain/frontend/src/pages/Dashboard.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useQuery } from '@tanstack/react-query';\r\nimport { useWalletStore } from '../store/wallet';\r\nimport { toast } from 'react-toastify';\r\nimport axios from 'axios';\r\nimport { AccountConnections } from '../components/AccountConnections';\r\nimport { RepositoryList } from '../components/RepositoryList';\r\nimport { BlockchainShadowItems } from '../components/BlockchainShadowItems';\r\nimport { IdentityCard } from '../components/IdentityCard';\r\nimport { ActivityFeed } from '../components/ActivityFeed';\r\nimport { ChainVisualizer } from '../components/ChainVisualizer';\r\nimport { EncryptionKeySetup } from '../components/EncryptionKeySetup';\r\nimport AccountSwitcher from '../components/AccountSwitcher';\r\nimport { getShadowItems, getConsentRecord } from '../services/polkadot';\r\nimport {\r\n  grantConsentWithUserSigning,\r\n  fetchPendingTransactions,\r\n  processAllPendingTransactions,\r\n  submitShadowItemWithUserSigning\r\n} from '../services/transactions';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { cryptoService } from '../services/crypto';\r\n\r\n// Polyfill for Buffer in browser\r\nconst encodeToHex = (str: string): string => {\r\n  return Array.from(new TextEncoder().encode(str))\r\n    .map(b => b.toString(16).padStart(2, '0'))\r\n    .join('');\r\n};\r\n\r\ninterface ShadowItem {\r\n  id: string;\r\n  content: string;\r\n  timestamp: number;\r\n  source: 'GitHub' | 'Twitter' | string;\r\n  metadata: string;\r\n  deleted: boolean;\r\n}\r\n\r\nconst Dashboard: React.FC = () => {\r\n  const navigate = useNavigate();\r\n  const { selectedAccount, disconnect } = useWalletStore();\r\n  \r\n  const [showAuthorizeModal, setShowAuthorizeModal] = useState(false);\r\n  const [authorizing, setAuthorizing] = useState(false);\r\n  const [pendingTransactions, setPendingTransactions] = useState<any[]>([]);\r\n  const [showTransactionModal, setShowTransactionModal] = useState(false);\r\n  const [signingProgress, setSigningProgress] = useState({ current: 0, total: 0 });\r\n  const [isSyncing, setIsSyncing] = useState(false);\r\n  const [activeView, setActiveView] = useState<'activity' | 'repositories' | 'chain' | 'connections'>('activity');\r\n  const [hasEncryptionKey, setHasEncryptionKey] = useState(false);\r\n  const [checkingEncryption, setCheckingEncryption] = useState(true);\r\n\r\n  // Check for consent record\r\n  const { data: consentRecord } = useQuery({\r\n    queryKey: ['consent-record', selectedAccount?.address],\r\n    queryFn: async () => {\r\n      if (!selectedAccount) return null;\r\n      return await getConsentRecord(selectedAccount.address);\r\n    },\r\n    enabled: !!selectedAccount,\r\n  });\r\n\r\n  // Check for encryption key and initialize if needed\r\n  useEffect(() => {\r\n    const checkEncryptionKey = async () => {\r\n      if (!selectedAccount) {\r\n        setHasEncryptionKey(false);\r\n        setCheckingEncryption(false);\r\n        return;\r\n      }\r\n\r\n      setCheckingEncryption(true);\r\n      try {\r\n        // Check if user has encryption key registered\r\n        const apiUrl = process.env.REACT_APP_API_URL || 'http://localhost:3001';\r\n        const baseUrl = apiUrl.replace(/\\/api\\/?$/, '');\r\n        const response = await axios.get(\r\n          `${baseUrl}/api/auth/encryption-key/${selectedAccount.address}`\r\n        );\r\n        \r\n        const hasKey = response.data.hasEncryptionKey;\r\n        setHasEncryptionKey(hasKey);\r\n\r\n        // Try to load and unlock stored keys automatically\r\n        if (hasKey) {\r\n          const storedKeys = await cryptoService.loadStoredKeys();\r\n          if (storedKeys && !storedKeys.unlocked) {\r\n            // Keys exist but are locked, we'll show UI to unlock them\r\n            console.log('Encryption keys found but locked');\r\n          } else if (storedKeys && storedKeys.unlocked) {\r\n            console.log('Encryption keys loaded and unlocked');\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('Error checking encryption key:', error);\r\n        setHasEncryptionKey(false);\r\n      } finally {\r\n        setCheckingEncryption(false);\r\n      }\r\n    };\r\n\r\n    checkEncryptionKey();\r\n  }, [selectedAccount]);\r\n\r\n  const { data: items, isLoading, refetch } = useQuery({\r\n    queryKey: ['shadow-items', selectedAccount?.address],\r\n    queryFn: async () => {\r\n      if (!selectedAccount) return [];\r\n      \r\n      try {\r\n        const apiUrl = process.env.REACT_APP_API_URL || 'http://localhost:3001';\r\n        const baseUrl = apiUrl.replace(/\\/api\\/?$/, '');\r\n        const response = await axios.get(\r\n          `${baseUrl}/api/shadow/items/${selectedAccount.address}`\r\n        );\r\n        \r\n        if (response.data.items && response.data.items.length > 0) {\r\n          return response.data.items as ShadowItem[];\r\n        }\r\n        \r\n        const chainItems = await getShadowItems(selectedAccount.address);\r\n        return chainItems as ShadowItem[];\r\n      } catch (error) {\r\n        console.error('Error fetching shadow items:', error);\r\n        return [];\r\n      }\r\n    },\r\n    enabled: !!selectedAccount,\r\n    refetchInterval: 30000,\r\n  });\r\n\r\n  const handleAuthorize = async () => {\r\n    if (!selectedAccount) return;\r\n\r\n    setAuthorizing(true);\r\n    try {\r\n      const message = `Shadow Chain Consent: I authorize Shadow Chain to encrypt and store my public Web2 activity on-chain. Timestamp: ${Date.now()}`;\r\n      const messageHash = '0x' + encodeToHex(message).substring(0, 64);\r\n      \r\n      await grantConsentWithUserSigning(messageHash);\r\n      \r\n      toast.success('Authorization granted successfully!');\r\n      setShowAuthorizeModal(false);\r\n      \r\n      await handleSync();\r\n      refetch();\r\n    } catch (error) {\r\n      console.error('Authorization failed:', error);\r\n      toast.error('Failed to grant authorization');\r\n    } finally {\r\n      setAuthorizing(false);\r\n    }\r\n  };\r\n\r\n  const handleSync = async () => {\r\n    if (!selectedAccount) return;\r\n    \r\n    setIsSyncing(true);\r\n    try {\r\n      const apiUrl = process.env.REACT_APP_API_URL || 'http://localhost:3001';\r\n      const baseUrl = apiUrl.replace(/\\/api\\/?$/, '');\r\n      \r\n      try {\r\n        const syncResponse = await axios.post(\r\n          `${baseUrl}/api/transactions/sync-and-prepare/${selectedAccount.address}`\r\n        );\r\n        \r\n        await refetch();\r\n        \r\n        if (syncResponse.data.transactions && syncResponse.data.transactions.length > 0) {\r\n          setPendingTransactions(syncResponse.data.transactions);\r\n          setShowTransactionModal(true);\r\n          toast.success(`${syncResponse.data.transactions.length} new items ready to sign!`);\r\n        } else {\r\n          toast.info('Items synced and stored - check your shadow archives');\r\n        }\r\n      } catch (syncError: any) {\r\n        console.error('Sync error:', syncError);\r\n        if (syncError.response?.status === 400) {\r\n          toast.error('Please connect your GitHub account first');\r\n        } else {\r\n          const transactions = await fetchPendingTransactions(selectedAccount.address);\r\n          \r\n          await refetch();\r\n          \r\n          if (transactions.length > 0) {\r\n            setPendingTransactions(transactions);\r\n            setShowTransactionModal(true);\r\n          } else {\r\n            toast.info('No new shadow items to sync');\r\n          }\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to sync:', error);\r\n      toast.error('Failed to fetch shadow items');\r\n    } finally {\r\n      setIsSyncing(false);\r\n    }\r\n  };\r\n\r\n  const handleSignAllTransactions = async () => {\r\n    if (!selectedAccount || pendingTransactions.length === 0) return;\r\n    \r\n    setShowTransactionModal(false);\r\n    \r\n    const result = await processAllPendingTransactions(\r\n      selectedAccount.address,\r\n      (current, total) => setSigningProgress({ current, total })\r\n    );\r\n    \r\n    setSigningProgress({ current: 0, total: 0 });\r\n    setPendingTransactions([]);\r\n    refetch();\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-dark\">\r\n        <div className=\"text-center\">\r\n          <div className=\"loading-spinner mx-auto mb-4\" />\r\n          <p className=\"text-gray-400 font-mono\">Loading shadow data...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-dark bg-noise\">\r\n      <div className=\"dashboard-grid\">\r\n        {/* Sidebar Navigation */}\r\n        <aside className=\"bg-glass-dark backdrop-blur-2xl border-r border-glass-light p-6 flex flex-col\">\r\n          <div className=\"mb-8\">\r\n            <h1 className=\"text-2xl font-display text-gradient mb-2\">ShadowChain</h1>\r\n            <p className=\"text-xs text-gray-400 font-mono\">Web3 Identity Platform</p>\r\n          </div>\r\n\r\n          <nav className=\"space-y-2 flex-1\">\r\n            <button\r\n              onClick={() => setActiveView('activity')}\r\n              className={`nav-link w-full ${activeView === 'activity' ? 'active' : ''}`}\r\n            >\r\n              <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n              </svg>\r\n              <span>Activity Feed</span>\r\n            </button>\r\n\r\n            <button\r\n              onClick={() => setActiveView('repositories')}\r\n              className={`nav-link w-full ${activeView === 'repositories' ? 'active' : ''}`}\r\n            >\r\n              <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z\" />\r\n              </svg>\r\n              <span>Repositories</span>\r\n            </button>\r\n\r\n            <button\r\n              onClick={() => setActiveView('chain')}\r\n              className={`nav-link w-full ${activeView === 'chain' ? 'active' : ''}`}\r\n            >\r\n              <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1\" />\r\n              </svg>\r\n              <span>Blockchain</span>\r\n            </button>\r\n\r\n            <button\r\n              onClick={() => setActiveView('connections')}\r\n              className={`nav-link w-full ${activeView === 'connections' ? 'active' : ''}`}\r\n            >\r\n              <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9\" />\r\n              </svg>\r\n              <span>Connections</span>\r\n            </button>\r\n          </nav>\r\n\r\n          {/* Sync Button */}\r\n          {consentRecord && (\r\n            <button\r\n              onClick={handleSync}\r\n              disabled={isSyncing}\r\n              className=\"btn-neon w-full mt-6\"\r\n            >\r\n              {isSyncing ? (\r\n                <div className=\"loading-dots\" style={{ justifyContent: 'center' }}>\r\n                  <span></span>\r\n                  <span></span>\r\n                  <span></span>\r\n                </div>\r\n              ) : (\r\n                <>\r\n                  <svg className=\"w-5 h-5 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\r\n                  </svg>\r\n                  Sync Now\r\n                </>\r\n              )}\r\n            </button>\r\n          )}\r\n\r\n          {/* Account Switcher */}\r\n          <div className=\"mt-6 pt-6 border-t border-glass-light\">\r\n            <AccountSwitcher />\r\n            <button\r\n              onClick={disconnect}\r\n              className=\"btn-ghost w-full mt-3 text-sm\"\r\n            >\r\n              Disconnect\r\n            </button>\r\n          </div>\r\n        </aside>\r\n\r\n        {/* Main Content Area */}\r\n        <main className=\"p-8 overflow-y-auto\">\r\n          {/* Encryption Key Setup */}\r\n          {!checkingEncryption && !hasEncryptionKey && consentRecord && (\r\n            <div className=\"mb-8\">\r\n              <EncryptionKeySetup\r\n                onComplete={() => {\r\n                  setHasEncryptionKey(true);\r\n                  toast.success('Encryption keys setup successfully!');\r\n                  refetch(); // Refresh data after key setup\r\n                }}\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {/* Authorization Banner */}\r\n          {!consentRecord && (\r\n            <div className=\"glass-card mb-8 text-center border-2 border-dot-primary p-8 animate-slide-up\">\r\n              <div className=\"w-20 h-20 mx-auto mb-6 rounded-full bg-gradient-to-br from-dot-primary/20 to-dot-accent/20 flex items-center justify-center\">\r\n                <svg className=\"w-10 h-10 text-dot-primary\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\" />\r\n                </svg>\r\n              </div>\r\n              <h3 className=\"text-2xl font-display mb-3 text-white\">Authorization Required</h3>\r\n              <p className=\"text-gray-400 mb-8 max-w-lg mx-auto\">\r\n                Grant consent to start mirroring your Web2 activity on-chain\r\n              </p>\r\n              <button\r\n                onClick={() => setShowAuthorizeModal(true)}\r\n                className=\"btn-neon\"\r\n              >\r\n                <svg className=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\" />\r\n                </svg>\r\n                Authorize Sync\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          {/* Dynamic Content Based on Active View */}\r\n          {activeView === 'activity' && <ActivityFeed />}\r\n          {activeView === 'repositories' && <RepositoryList />}\r\n          {activeView === 'chain' && (\r\n            <BlockchainShadowItems\r\n              itemsPerPage={15}\r\n              hasEncryptionKey={hasEncryptionKey}\r\n            />\r\n          )}\r\n          {activeView === 'connections' && <AccountConnections onConnectionChange={refetch} />}\r\n        </main>\r\n\r\n        {/* Right Panel */}\r\n        <aside className=\"bg-glass-dark backdrop-blur-2xl border-l border-glass-light p-6 space-y-6 overflow-y-auto\">\r\n          <IdentityCard />\r\n          \r\n          {/* Encryption Status Card */}\r\n          {hasEncryptionKey && (\r\n            <div className=\"glass-card p-6\">\r\n              <div className=\"flex items-center justify-between mb-4\">\r\n                <h3 className=\"font-display text-white\">Encryption</h3>\r\n                <div className=\"badge badge-verified\">\r\n                  <svg className=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\" />\r\n                  </svg>\r\n                  Active\r\n                </div>\r\n              </div>\r\n              <p className=\"text-sm text-gray-400 mb-4\">\r\n                Your shadow items are encrypted with your personal key\r\n              </p>\r\n              <div className=\"flex gap-2\">\r\n                <button\r\n                  onClick={async () => {\r\n                    const exported = await cryptoService.exportKeys();\r\n                    if (exported) {\r\n                      const blob = new Blob([JSON.stringify(exported, null, 2)], { type: 'application/json' });\r\n                      const url = URL.createObjectURL(blob);\r\n                      const a = document.createElement('a');\r\n                      a.href = url;\r\n                      a.download = 'shadowchain-keys.json';\r\n                      a.click();\r\n                      toast.success('Keys exported successfully');\r\n                    }\r\n                  }}\r\n                  className=\"btn-ghost text-xs flex-1\"\r\n                >\r\n                  Export Keys\r\n                </button>\r\n                <button\r\n                  onClick={() => {\r\n                    // Open import dialog\r\n                    const input = document.createElement('input');\r\n                    input.type = 'file';\r\n                    input.accept = '.json';\r\n                    input.onchange = async (e) => {\r\n                      const file = (e.target as HTMLInputElement).files?.[0];\r\n                      if (file) {\r\n                        const text = await file.text();\r\n                        const keys = JSON.parse(text);\r\n                        const success = await cryptoService.importKeys(keys);\r\n                        if (success) {\r\n                          setHasEncryptionKey(true);\r\n                          toast.success('Keys imported successfully');\r\n                        } else {\r\n                          toast.error('Failed to import keys');\r\n                        }\r\n                      }\r\n                    };\r\n                    input.click();\r\n                  }}\r\n                  className=\"btn-ghost text-xs flex-1\"\r\n                >\r\n                  Import Keys\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          <ChainVisualizer />\r\n        </aside>\r\n      </div>\r\n\r\n      {/* Transaction Signing Modal */}\r\n      {showTransactionModal && pendingTransactions.length > 0 && (\r\n        <div className=\"modal-backdrop\">\r\n          <div className=\"modal-content max-w-2xl p-8\">\r\n            <div className=\"flex items-start justify-between mb-6\">\r\n              <div>\r\n                <h2 className=\"text-2xl font-display mb-2 text-white\">\r\n                  Sign Transactions\r\n                </h2>\r\n                <p className=\"text-gray-400\">\r\n                  {pendingTransactions.length} shadow items ready to be submitted on-chain\r\n                </p>\r\n              </div>\r\n              \r\n              <button\r\n                onClick={() => setShowTransactionModal(false)}\r\n                className=\"text-gray-400 hover:text-white transition-colors p-1\"\r\n              >\r\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"bg-glass-white rounded-smooth p-4 mb-6 max-h-64 overflow-y-auto\">\r\n              {pendingTransactions.map((tx, index) => (\r\n                <div key={index} className=\"flex items-center justify-between py-3 border-b border-glass-light last:border-0\">\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <span className={`badge ${\r\n                      tx.source === 'github' ? 'badge-verified' : 'badge-pending'\r\n                    }`}>\r\n                      {tx.source?.toUpperCase() || 'UNKNOWN'}\r\n                    </span>\r\n                    <span className=\"text-gray-400 text-sm font-mono\">\r\n                      {new Date(tx.timestamp < 10000000000 ? tx.timestamp * 1000 : tx.timestamp).toLocaleString()}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n\r\n            <div className=\"bg-trust-pending/10 border border-trust-pending/30 rounded-smooth p-4 mb-6\">\r\n              <div className=\"flex items-start gap-3\">\r\n                <svg className=\"w-5 h-5 text-trust-pending flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\r\n                </svg>\r\n                <p className=\"text-sm text-gray-300\">\r\n                  You will be asked to sign each transaction with your wallet\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex gap-3\">\r\n              <button\r\n                onClick={() => setShowTransactionModal(false)}\r\n                className=\"btn-ghost flex-1\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={handleSignAllTransactions}\r\n                className=\"btn-neon flex-1\"\r\n              >\r\n                Sign All ({pendingTransactions.length})\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Signing Progress */}\r\n      {signingProgress.total > 0 && (\r\n        <div className=\"modal-backdrop\">\r\n          <div className=\"modal-content max-w-md text-center p-8\">\r\n            <div className=\"w-20 h-20 mx-auto mb-6 rounded-full bg-gradient-to-br from-dot-primary/20 to-dot-accent/20 flex items-center justify-center\">\r\n              <div className=\"loading-spinner\" />\r\n            </div>\r\n            \r\n            <h3 className=\"text-2xl font-display mb-3 text-white\">Signing Transactions</h3>\r\n            <p className=\"text-gray-400 mb-6\">\r\n              Please approve each transaction in your wallet\r\n            </p>\r\n            \r\n            <div className=\"w-full h-2 bg-glass-dark rounded-full overflow-hidden mb-4\">\r\n              <div \r\n                className=\"h-full bg-gradient-to-r from-dot-primary to-dot-accent transition-all duration-300 shadow-glow-sm\"\r\n                style={{ width: `${(signingProgress.current / signingProgress.total) * 100}%` }}\r\n              />\r\n            </div>\r\n            \r\n            <p className=\"text-sm font-mono text-gray-400\">\r\n              {signingProgress.current} / {signingProgress.total}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Authorization Modal */}\r\n      {showAuthorizeModal && (\r\n        <div className=\"modal-backdrop\">\r\n          <div className=\"modal-content max-w-lg p-8\">\r\n            <div className=\"flex items-start justify-between mb-6\">\r\n              <div>\r\n                <h2 className=\"text-2xl font-display mb-2 text-white\">\r\n                  Consent Protocol\r\n                </h2>\r\n                <p className=\"text-gray-400\">\r\n                  Authorize Shadow Chain to mirror your digital footprint\r\n                </p>\r\n              </div>\r\n              \r\n              <button\r\n                onClick={() => setShowAuthorizeModal(false)}\r\n                className=\"text-gray-400 hover:text-white transition-colors p-1\"\r\n              >\r\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"bg-glass-white rounded-smooth p-6 mb-6\">\r\n              <h4 className=\"font-display mb-4 text-white\">By granting consent, you authorize Shadow Chain to:</h4>\r\n              <ul className=\"space-y-3 text-sm text-gray-300\">\r\n                <li className=\"flex items-start gap-3\">\r\n                  <svg className=\"w-5 h-5 text-trust-verified flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                  </svg>\r\n                  <span>Access your PUBLIC GitHub repositories and commits</span>\r\n                </li>\r\n                <li className=\"flex items-start gap-3\">\r\n                  <svg className=\"w-5 h-5 text-trust-verified flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                  </svg>\r\n                  <span>Access your PUBLIC Twitter/X posts</span>\r\n                </li>\r\n                <li className=\"flex items-start gap-3\">\r\n                  <svg className=\"w-5 h-5 text-trust-verified flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                  </svg>\r\n                  <span>Store your Web2 activity data directly on Polkadot</span>\r\n                </li>\r\n                <li className=\"flex items-start gap-3\">\r\n                  <svg className=\"w-5 h-5 text-trust-verified flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                  </svg>\r\n                  <span>Make your digital footprint permanently accessible</span>\r\n                </li>\r\n              </ul>\r\n              \r\n              <div className=\"mt-6 p-4 bg-trust-pending/10 border border-trust-pending/30 rounded-smooth\">\r\n                <div className=\"flex items-start gap-3\">\r\n                  <svg className=\"w-5 h-5 text-trust-pending flex-shrink-0 mt-0.5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\r\n                  </svg>\r\n                  <p className=\"text-sm text-gray-300\">\r\n                    Data will be publicly visible on the blockchain\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex gap-3\">\r\n              <button\r\n                onClick={() => setShowAuthorizeModal(false)}\r\n                className=\"btn-ghost flex-1\"\r\n                disabled={authorizing}\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={handleAuthorize}\r\n                className=\"btn-neon flex-1\"\r\n                disabled={authorizing}\r\n              >\r\n                {authorizing ? (\r\n                  <div className=\"loading-spinner mx-auto\" style={{ width: '1.5rem', height: '1.5rem' }} />\r\n                ) : (\r\n                  'Grant Consent'\r\n                )}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}