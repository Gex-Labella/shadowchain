{"ast":null,"code":"export function extractAuthor(digest, sessionValidators) {\n  const [citem] = digest.logs.filter(e => e.isConsensus);\n  const [pitem] = digest.logs.filter(e => e.isPreRuntime);\n  const [sitem] = digest.logs.filter(e => e.isSeal);\n  let accountId;\n  try {\n    // This is critical to be first for BABE (before Consensus)\n    // If not first, we end up dropping the author at session-end\n    if (pitem) {\n      const [engine, data] = pitem.asPreRuntime;\n      accountId = engine.extractAuthor(data, sessionValidators);\n    }\n    if (!accountId && citem) {\n      const [engine, data] = citem.asConsensus;\n      accountId = engine.extractAuthor(data, sessionValidators);\n    }\n    // SEAL, still used in e.g. Kulupu for pow\n    if (!accountId && sitem) {\n      const [engine, data] = sitem.asSeal;\n      accountId = engine.extractAuthor(data, sessionValidators);\n    }\n  } catch {\n    // ignore\n  }\n  return accountId;\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}