{"ast":null,"code":"import { objectSpread } from '@polkadot/util';\n/**\n * Convert the Metadata to v15\n * @internal\n **/\nexport function toV15(registry, v14, _) {\n  // V15 is mostly equivalent to v14 however it does add\n  //\n  // 1. The top-level apis entry - it is assumed that in usage we would\n  //    just check for all-empty (like this would construct)\n  // 2. A docs param on the pallet itself\n  // 3. Additional extrinsic parameters\n  //\n  // A straight conversion with createTypeUndafe magic fills in details\n  // We need the UncheckedExtrinsic to extract the types, at least for v14\n  // which does have these details embedded (previous-gen won't populate)\n  const unchecked = v14.lookup.paramTypes.SpRuntimeUncheckedExtrinsic;\n  return registry.createTypeUnsafe('MetadataV15', [objectSpread({}, v14, {\n    extrinsic: registry.createTypeUnsafe('ExtrinsicMetadataV15', [objectSpread({}, v14.extrinsic, {\n      addressType: unchecked?.[0].type.unwrapOr(0),\n      callType: unchecked?.[1].type.unwrapOr(0),\n      extraType: unchecked?.[3].type.unwrapOr(0),\n      signatureType: unchecked?.[2].type.unwrapOr(0)\n    })]),\n    outerEnums: registry.createTypeUnsafe('OuterEnums15', [{\n      // FIXME We need to extract & add the errorType in here\n      // (these doesn't seem to be an esay way to detect & extract it)\n      callType: unchecked?.[1].type.unwrapOr(0),\n      eventType: v14.lookup.paramTypes.FrameSystemEventRecord?.[0].type.unwrapOr(0)\n    }])\n  })]);\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}