{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Documents\\\\Keiths\\\\Polkadot\\\\shadowchain\\\\frontend\\\\src\\\\components\\\\BlockchainShadowItems.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport axios from 'axios';\nimport { useWalletStore } from '../store/wallet';\nimport { cryptoService } from '../services/crypto';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const BlockchainShadowItems = ({\n  itemsPerPage = 10,\n  hasEncryptionKey = false\n}) => {\n  _s();\n  var _response$items;\n  const {\n    selectedAccount\n  } = useWalletStore();\n  const [currentPage, setCurrentPage] = useState(1);\n  const [filterSource, setFilterSource] = useState('all');\n  const [decryptedItems, setDecryptedItems] = useState(new Map());\n  const [decryptionStatus, setDecryptionStatus] = useState('idle');\n\n  // Fetch only blockchain items\n  const {\n    data: response,\n    isLoading,\n    error\n  } = useQuery({\n    queryKey: ['blockchain-shadow-items', selectedAccount === null || selectedAccount === void 0 ? void 0 : selectedAccount.address, currentPage, itemsPerPage],\n    queryFn: async () => {\n      if (!selectedAccount) return null;\n      const apiUrl = process.env.REACT_APP_API_URL || 'http://localhost:3001';\n      const baseUrl = apiUrl.replace(/\\/api\\/?$/, '');\n      const res = await axios.get(`${baseUrl}/api/shadow/items/${selectedAccount.address}/blockchain`, {\n        params: {\n          page: currentPage,\n          perPage: itemsPerPage\n        }\n      });\n      return res.data;\n    },\n    enabled: !!selectedAccount\n  });\n\n  // Attempt to decrypt items when they arrive and user has encryption key\n  useEffect(() => {\n    const decryptItems = async () => {\n      if (!(response !== null && response !== void 0 && response.items) || !hasEncryptionKey) return;\n      const currentKeyPair = cryptoService.getCurrentKeyPair();\n      if (!currentKeyPair) {\n        // Try to auto-unlock with stored password or prompt user\n        return;\n      }\n      setDecryptionStatus('decrypting');\n      const newDecryptedItems = new Map();\n      for (const item of response.items) {\n        try {\n          // Check if content is a CID (IPFS hash)\n          if (item.content && item.content.startsWith('Qm') || item.content.startsWith('bafy')) {\n            // This is an IPFS CID - fetch and decrypt the content\n            const metadata = parseMetadata(item.metadata);\n            if (metadata !== null && metadata !== void 0 && metadata.encrypted && metadata !== null && metadata !== void 0 && metadata.encryptedKey) {\n              try {\n                // Fetch encrypted content from IPFS\n                const apiUrl = process.env.REACT_APP_API_URL || 'http://localhost:3001';\n                const baseUrl = apiUrl.replace(/\\/api\\/?$/, '');\n                const ipfsResponse = await axios.get(`${baseUrl}/api/shadow/ipfs/${item.content}`);\n                if (ipfsResponse.data) {\n                  const {\n                    ciphertext,\n                    nonce\n                  } = ipfsResponse.data;\n\n                  // Decrypt the content\n                  const decrypted = await cryptoService.decryptShadowItem(ciphertext, nonce, metadata.encryptedKey);\n                  if (decrypted) {\n                    newDecryptedItems.set(item.id, decrypted);\n                  }\n                }\n              } catch (err) {\n                console.error('Failed to decrypt item:', item.id, err);\n              }\n            }\n          } else {\n            // Try to parse as regular content\n            const parsed = parseContent(item);\n            if (parsed) {\n              newDecryptedItems.set(item.id, parsed);\n            }\n          }\n        } catch (err) {\n          console.error('Error processing item:', item.id, err);\n        }\n      }\n      setDecryptedItems(newDecryptedItems);\n      setDecryptionStatus('complete');\n    };\n    decryptItems();\n  }, [response === null || response === void 0 ? void 0 : response.items, hasEncryptionKey]);\n\n  // Parse metadata to check for encryption info\n  const parseMetadata = metadata => {\n    try {\n      if (!metadata) return null;\n      let metadataObj;\n      if (metadata.startsWith('0x')) {\n        const hexString = metadata.slice(2);\n        const bytes = new Uint8Array(hexString.match(/.{1,2}/g).map(byte => parseInt(byte, 16)));\n        const jsonStr = new TextDecoder().decode(bytes);\n        metadataObj = JSON.parse(jsonStr);\n      } else {\n        metadataObj = JSON.parse(metadata);\n      }\n      return metadataObj;\n    } catch (error) {\n      return null;\n    }\n  };\n\n  // Parse content from blockchain (for unencrypted items)\n  const parseContent = item => {\n    try {\n      var _content$raw_meta;\n      let content;\n      if (item.content.startsWith('0x')) {\n        const hexString = item.content.slice(2);\n        const bytes = new Uint8Array(hexString.match(/.{1,2}/g).map(byte => parseInt(byte, 16)));\n        const jsonStr = new TextDecoder().decode(bytes);\n        content = JSON.parse(jsonStr);\n      } else if (item.content.startsWith('Qm') || item.content.startsWith('bafy')) {\n        // This is an IPFS CID, check if we have decrypted content\n        const decrypted = decryptedItems.get(item.id);\n        if (decrypted) {\n          return decrypted;\n        }\n        // Return placeholder for encrypted content\n        return {\n          source: item.source,\n          body: 'üîí Encrypted content (CID: ' + item.content.substring(0, 8) + '...)',\n          timestamp: item.timestamp,\n          encrypted: true\n        };\n      } else {\n        content = JSON.parse(item.content);\n      }\n      let normalizedSource;\n      if (typeof item.source === 'number') {\n        normalizedSource = item.source === 0 ? 'GitHub' : 'Twitter';\n      } else {\n        var _item$source;\n        const sourceStr = (_item$source = item.source) === null || _item$source === void 0 ? void 0 : _item$source.toString().toLowerCase();\n        normalizedSource = sourceStr === 'github' ? 'GitHub' : sourceStr === 'twitter' ? 'Twitter' : 'Unknown';\n      }\n      let url = content.url || '';\n      if (!url && item.metadata) {\n        const metadata = parseMetadata(item.metadata);\n        if (metadata !== null && metadata !== void 0 && metadata.url) {\n          url = metadata.url;\n        }\n      }\n      return {\n        source: normalizedSource,\n        url,\n        body: content.body || `${normalizedSource} content`,\n        timestamp: content.timestamp < 10000000000 ? content.timestamp * 1000 : content.timestamp,\n        author: ((_content$raw_meta = content.raw_meta) === null || _content$raw_meta === void 0 ? void 0 : _content$raw_meta.author) || content.author || 'Unknown'\n      };\n    } catch (error) {\n      console.error('Failed to parse content:', error);\n      return null;\n    }\n  };\n  const formatTimestamp = timestamp => {\n    const ts = timestamp < 10000000000 ? timestamp * 1000 : timestamp;\n    const date = new Date(ts);\n    return date.toLocaleString('en-US', {\n      month: 'short',\n      day: 'numeric',\n      year: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  const getSourceColor = source => {\n    if (typeof source === 'number') {\n      return source === 0 ? 'var(--neon-violet)' : 'var(--neon-cyan)';\n    }\n    const normalizedSource = source === null || source === void 0 ? void 0 : source.toString().toLowerCase();\n    return normalizedSource === 'github' ? 'var(--neon-violet)' : 'var(--neon-cyan)';\n  };\n\n  // Filter items by source\n  const filteredItems = (response === null || response === void 0 ? void 0 : (_response$items = response.items) === null || _response$items === void 0 ? void 0 : _response$items.filter(item => {\n    if (filterSource === 'all') return true;\n    const content = parseContent(item);\n    return (content === null || content === void 0 ? void 0 : content.source) === filterSource;\n  })) || [];\n  const totalPages = (response === null || response === void 0 ? void 0 : response.totalPages) || 1;\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        padding: '2rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-dots\",\n        style: {\n          justifyContent: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontFamily: 'var(--font-mono)',\n          color: 'var(--neon-violet)',\n          fontSize: '0.875rem',\n          marginTop: '1rem'\n        },\n        children: \"LOADING BLOCKCHAIN DATA...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"shadow-card\",\n      style: {\n        textAlign: 'center',\n        padding: '2rem',\n        border: '1px solid var(--error-crimson)'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontFamily: 'var(--font-mono)',\n          color: 'var(--error-crimson)'\n        },\n        children: \"Failed to load blockchain data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        marginBottom: '2rem',\n        flexWrap: 'wrap',\n        gap: '1rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: '1rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            fontFamily: 'var(--font-display)',\n            fontSize: '1.25rem',\n            color: 'var(--ghost-white)',\n            letterSpacing: '0.05em'\n          },\n          children: \"ON-CHAIN SHADOW ITEMS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontFamily: 'var(--font-mono)',\n            fontSize: '0.75rem',\n            color: 'var(--corrupt-green)',\n            padding: '0.25rem 0.75rem',\n            border: '1px solid var(--corrupt-green)',\n            borderRadius: 'var(--radius-sharp)'\n          },\n          children: [(response === null || response === void 0 ? void 0 : response.total) || 0, \" CONFIRMED\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this), decryptionStatus === 'decrypting' && /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontFamily: 'var(--font-mono)',\n            fontSize: '0.75rem',\n            color: 'var(--signal-blue)',\n            padding: '0.25rem 0.75rem',\n            border: '1px solid var(--signal-blue)',\n            borderRadius: 'var(--radius-sharp)'\n          },\n          children: \"\\uD83D\\uDD13 DECRYPTING...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: '0.5rem',\n          fontFamily: 'var(--font-mono)',\n          fontSize: '0.813rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setFilterSource('all'),\n          className: filterSource === 'all' ? 'btn-neon' : 'btn-shadow',\n          style: {\n            padding: '0.375rem 0.75rem'\n          },\n          children: \"ALL\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setFilterSource('GitHub'),\n          className: filterSource === 'GitHub' ? 'btn-neon' : 'btn-shadow',\n          style: {\n            padding: '0.375rem 0.75rem',\n            borderColor: 'var(--neon-violet)',\n            color: filterSource === 'GitHub' ? 'var(--shadow-ink)' : 'var(--neon-violet)'\n          },\n          children: \"GITHUB\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setFilterSource('Twitter'),\n          className: filterSource === 'Twitter' ? 'btn-neon' : 'btn-shadow',\n          style: {\n            padding: '0.375rem 0.75rem',\n            borderColor: 'var(--neon-cyan)',\n            color: filterSource === 'Twitter' ? 'var(--shadow-ink)' : 'var(--neon-cyan)'\n          },\n          children: \"TWITTER\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 7\n    }, this), filteredItems.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'grid',\n          gap: '1rem'\n        },\n        children: filteredItems.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"shadow-card\",\n          style: {\n            padding: '1.5rem',\n            position: 'relative',\n            borderLeft: `4px solid ${getSourceColor(item.source)}`\n          },\n          children: (_content$source => {\n            // First check if we have decrypted content\n            const decrypted = decryptedItems.get(item.id);\n            const content = decrypted || parseContent(item);\n            if (!content) return null;\n            return /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'flex-start',\n                  marginBottom: '1rem',\n                  gap: '1rem'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      fontFamily: 'var(--font-tech)',\n                      fontSize: '0.875rem',\n                      fontWeight: 700,\n                      color: getSourceColor(item.source),\n                      letterSpacing: '0.1em'\n                    },\n                    children: [\"[\", ((_content$source = content.source) === null || _content$source === void 0 ? void 0 : _content$source.toUpperCase()) || 'UNKNOWN', \"]\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 391,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      fontFamily: 'var(--font-mono)',\n                      fontSize: '0.75rem',\n                      color: 'var(--static-gray)',\n                      marginLeft: '1rem'\n                    },\n                    children: formatTimestamp(item.timestamp)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 400,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontFamily: 'var(--font-mono)',\n                    fontSize: '0.688rem',\n                    color: decrypted ? 'var(--signal-blue)' : 'var(--corrupt-green)',\n                    padding: '0.25rem 0.5rem',\n                    border: `1px solid ${decrypted ? 'var(--signal-blue)' : 'var(--corrupt-green)'}`,\n                    borderRadius: 'var(--radius-sharp)'\n                  },\n                  children: decrypted ? 'üîì DECRYPTED' : content.encrypted ? 'üîí ENCRYPTED' : 'CONFIRMED'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 410,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  background: 'var(--shadow-void)',\n                  border: '1px solid rgba(57, 255, 20, 0.3)',\n                  borderRadius: 'var(--radius-sharp)',\n                  padding: '1rem',\n                  fontFamily: 'var(--font-mono)',\n                  fontSize: '0.813rem'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    color: 'var(--ghost-white)',\n                    opacity: 0.9,\n                    whiteSpace: 'pre-wrap'\n                  },\n                  children: content.content || content.body\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 430,\n                  columnNumber: 25\n                }, this), content.author && /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    color: 'var(--static-gray)',\n                    fontSize: '0.75rem',\n                    marginTop: '0.5rem'\n                  },\n                  children: [\"by \", content.author]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 434,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 23\n              }, this), content.url && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: '1rem',\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center',\n                  gap: '1rem'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                  href: content.url,\n                  target: \"_blank\",\n                  rel: \"noopener noreferrer\",\n                  style: {\n                    fontFamily: 'var(--font-mono)',\n                    fontSize: '0.75rem',\n                    color: 'var(--signal-blue)',\n                    textDecoration: 'none',\n                    borderBottom: '1px solid var(--signal-blue)',\n                    display: 'inline-block',\n                    maxWidth: '400px',\n                    overflow: 'hidden',\n                    textOverflow: 'ellipsis',\n                    whiteSpace: 'nowrap'\n                  },\n                  children: content.url\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 452,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => window.open(`https://polkadot.js.org/apps/?rpc=wss://rococo-rpc.polkadot.io#/explorer`, '_blank'),\n                  className: \"btn-shadow\",\n                  style: {\n                    padding: '0.375rem 0.75rem',\n                    fontSize: '0.688rem',\n                    whiteSpace: 'nowrap'\n                  },\n                  children: \"VIEW TX\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 472,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 445,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true);\n          })()\n        }, item.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 11\n      }, this), totalPages > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n          gap: '1rem',\n          marginTop: '2rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentPage(Math.max(1, currentPage - 1)),\n          disabled: currentPage === 1,\n          className: \"btn-shadow\",\n          style: {\n            padding: '0.5rem 1rem',\n            opacity: currentPage === 1 ? 0.5 : 1\n          },\n          children: \"\\u2190 PREV\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontFamily: 'var(--font-mono)',\n            fontSize: '0.875rem',\n            color: 'var(--ghost-white)'\n          },\n          children: [\"PAGE \", currentPage, \" / \", totalPages]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentPage(Math.min(totalPages, currentPage + 1)),\n          disabled: currentPage === totalPages,\n          className: \"btn-shadow\",\n          style: {\n            padding: '0.5rem 1rem',\n            opacity: currentPage === totalPages ? 0.5 : 1\n          },\n          children: \"NEXT \\u2192\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 521,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"shadow-card\",\n      style: {\n        textAlign: 'center',\n        padding: '3rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: '3rem',\n          color: 'var(--shadow-steel)',\n          marginBottom: '1rem'\n        },\n        children: \"\\u2B22\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 540,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontFamily: 'var(--font-display)',\n          fontSize: '1rem',\n          color: 'var(--ghost-white)',\n          marginBottom: '0.5rem'\n        },\n        children: \"NO ON-CHAIN ITEMS\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 547,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontFamily: 'var(--font-mono)',\n          fontSize: '0.813rem',\n          color: 'var(--static-gray)'\n        },\n        children: \"Submit shadow items to see them here\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 555,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 536,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 278,\n    columnNumber: 5\n  }, this);\n};\n_s(BlockchainShadowItems, \"+sfziCRNigHT4w/IWBx+85/2+e8=\", false, function () {\n  return [useWalletStore, useQuery];\n});\n_c = BlockchainShadowItems;\nvar _c;\n$RefreshReg$(_c, \"BlockchainShadowItems\");","map":{"version":3,"names":["React","useState","useEffect","useQuery","axios","useWalletStore","cryptoService","jsxDEV","_jsxDEV","Fragment","_Fragment","BlockchainShadowItems","itemsPerPage","hasEncryptionKey","_s","_response$items","selectedAccount","currentPage","setCurrentPage","filterSource","setFilterSource","decryptedItems","setDecryptedItems","Map","decryptionStatus","setDecryptionStatus","data","response","isLoading","error","queryKey","address","queryFn","apiUrl","process","env","REACT_APP_API_URL","baseUrl","replace","res","get","params","page","perPage","enabled","decryptItems","items","currentKeyPair","getCurrentKeyPair","newDecryptedItems","item","content","startsWith","metadata","parseMetadata","encrypted","encryptedKey","ipfsResponse","ciphertext","nonce","decrypted","decryptShadowItem","set","id","err","console","parsed","parseContent","metadataObj","hexString","slice","bytes","Uint8Array","match","map","byte","parseInt","jsonStr","TextDecoder","decode","JSON","parse","_content$raw_meta","source","body","substring","timestamp","normalizedSource","_item$source","sourceStr","toString","toLowerCase","url","author","raw_meta","formatTimestamp","ts","date","Date","toLocaleString","month","day","year","hour","minute","getSourceColor","filteredItems","filter","totalPages","style","textAlign","padding","children","className","justifyContent","fileName","_jsxFileName","lineNumber","columnNumber","fontFamily","color","fontSize","marginTop","border","display","alignItems","marginBottom","flexWrap","gap","letterSpacing","borderRadius","total","onClick","borderColor","length","position","borderLeft","_content$source","fontWeight","toUpperCase","marginLeft","background","opacity","whiteSpace","href","target","rel","textDecoration","borderBottom","maxWidth","overflow","textOverflow","window","open","Math","max","disabled","min","_c","$RefreshReg$"],"sources":["C:/Users/Admin/Documents/Keiths/Polkadot/shadowchain/frontend/src/components/BlockchainShadowItems.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useQuery } from '@tanstack/react-query';\r\nimport axios from 'axios';\r\nimport { useWalletStore } from '../store/wallet';\r\nimport { cryptoService } from '../services/crypto';\r\nimport { toast } from 'react-toastify';\r\n\r\ninterface ShadowItem {\r\n  id: string;\r\n  content: string;\r\n  timestamp: number;\r\n  source: 'GitHub' | 'Twitter' | string;\r\n  metadata: string;\r\n  deleted: boolean;\r\n}\r\n\r\ninterface DecryptedItem extends ShadowItem {\r\n  decrypted?: boolean;\r\n  decryptedContent?: any;\r\n}\r\n\r\ninterface BlockchainShadowItemsProps {\r\n  itemsPerPage?: number;\r\n  hasEncryptionKey?: boolean;\r\n}\r\n\r\nexport const BlockchainShadowItems: React.FC<BlockchainShadowItemsProps> = ({\r\n  itemsPerPage = 10,\r\n  hasEncryptionKey = false\r\n}) => {\r\n  const { selectedAccount } = useWalletStore();\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [filterSource, setFilterSource] = useState<'all' | 'GitHub' | 'Twitter'>('all');\r\n  const [decryptedItems, setDecryptedItems] = useState<Map<string, any>>(new Map());\r\n  const [decryptionStatus, setDecryptionStatus] = useState<'idle' | 'decrypting' | 'complete'>('idle');\r\n\r\n  // Fetch only blockchain items\r\n  const { data: response, isLoading, error } = useQuery({\r\n    queryKey: ['blockchain-shadow-items', selectedAccount?.address, currentPage, itemsPerPage],\r\n    queryFn: async () => {\r\n      if (!selectedAccount) return null;\r\n      \r\n      const apiUrl = process.env.REACT_APP_API_URL || 'http://localhost:3001';\r\n      const baseUrl = apiUrl.replace(/\\/api\\/?$/, '');\r\n      \r\n      const res = await axios.get(\r\n        `${baseUrl}/api/shadow/items/${selectedAccount.address}/blockchain`,\r\n        {\r\n          params: {\r\n            page: currentPage,\r\n            perPage: itemsPerPage\r\n          }\r\n        }\r\n      );\r\n      \r\n      return res.data;\r\n    },\r\n    enabled: !!selectedAccount,\r\n  });\r\n\r\n  // Attempt to decrypt items when they arrive and user has encryption key\r\n  useEffect(() => {\r\n    const decryptItems = async () => {\r\n      if (!response?.items || !hasEncryptionKey) return;\r\n      \r\n      const currentKeyPair = cryptoService.getCurrentKeyPair();\r\n      if (!currentKeyPair) {\r\n        // Try to auto-unlock with stored password or prompt user\r\n        return;\r\n      }\r\n\r\n      setDecryptionStatus('decrypting');\r\n      const newDecryptedItems = new Map<string, any>();\r\n\r\n      for (const item of response.items) {\r\n        try {\r\n          // Check if content is a CID (IPFS hash)\r\n          if (item.content && item.content.startsWith('Qm') || item.content.startsWith('bafy')) {\r\n            // This is an IPFS CID - fetch and decrypt the content\r\n            const metadata = parseMetadata(item.metadata);\r\n            \r\n            if (metadata?.encrypted && metadata?.encryptedKey) {\r\n              try {\r\n                // Fetch encrypted content from IPFS\r\n                const apiUrl = process.env.REACT_APP_API_URL || 'http://localhost:3001';\r\n                const baseUrl = apiUrl.replace(/\\/api\\/?$/, '');\r\n                \r\n                const ipfsResponse = await axios.get(\r\n                  `${baseUrl}/api/shadow/ipfs/${item.content}`\r\n                );\r\n                \r\n                if (ipfsResponse.data) {\r\n                  const { ciphertext, nonce } = ipfsResponse.data;\r\n                  \r\n                  // Decrypt the content\r\n                  const decrypted = await cryptoService.decryptShadowItem(\r\n                    ciphertext,\r\n                    nonce,\r\n                    metadata.encryptedKey\r\n                  );\r\n                  \r\n                  if (decrypted) {\r\n                    newDecryptedItems.set(item.id, decrypted);\r\n                  }\r\n                }\r\n              } catch (err) {\r\n                console.error('Failed to decrypt item:', item.id, err);\r\n              }\r\n            }\r\n          } else {\r\n            // Try to parse as regular content\r\n            const parsed = parseContent(item as ShadowItem);\r\n            if (parsed) {\r\n              newDecryptedItems.set(item.id, parsed);\r\n            }\r\n          }\r\n        } catch (err) {\r\n          console.error('Error processing item:', item.id, err);\r\n        }\r\n      }\r\n\r\n      setDecryptedItems(newDecryptedItems);\r\n      setDecryptionStatus('complete');\r\n    };\r\n\r\n    decryptItems();\r\n  }, [response?.items, hasEncryptionKey]);\r\n\r\n  // Parse metadata to check for encryption info\r\n  const parseMetadata = (metadata: string): any => {\r\n    try {\r\n      if (!metadata) return null;\r\n      \r\n      let metadataObj: any;\r\n      if (metadata.startsWith('0x')) {\r\n        const hexString = metadata.slice(2);\r\n        const bytes = new Uint8Array(hexString.match(/.{1,2}/g)!.map(byte => parseInt(byte, 16)));\r\n        const jsonStr = new TextDecoder().decode(bytes);\r\n        metadataObj = JSON.parse(jsonStr);\r\n      } else {\r\n        metadataObj = JSON.parse(metadata);\r\n      }\r\n      \r\n      return metadataObj;\r\n    } catch (error) {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  // Parse content from blockchain (for unencrypted items)\r\n  const parseContent = (item: ShadowItem) => {\r\n    try {\r\n      let content: any;\r\n      \r\n      if (item.content.startsWith('0x')) {\r\n        const hexString = item.content.slice(2);\r\n        const bytes = new Uint8Array(hexString.match(/.{1,2}/g)!.map(byte => parseInt(byte, 16)));\r\n        const jsonStr = new TextDecoder().decode(bytes);\r\n        content = JSON.parse(jsonStr);\r\n      } else if (item.content.startsWith('Qm') || item.content.startsWith('bafy')) {\r\n        // This is an IPFS CID, check if we have decrypted content\r\n        const decrypted = decryptedItems.get(item.id);\r\n        if (decrypted) {\r\n          return decrypted;\r\n        }\r\n        // Return placeholder for encrypted content\r\n        return {\r\n          source: item.source,\r\n          body: 'üîí Encrypted content (CID: ' + item.content.substring(0, 8) + '...)',\r\n          timestamp: item.timestamp,\r\n          encrypted: true\r\n        };\r\n      } else {\r\n        content = JSON.parse(item.content);\r\n      }\r\n      \r\n      let normalizedSource: string;\r\n      if (typeof item.source === 'number') {\r\n        normalizedSource = item.source === 0 ? 'GitHub' : 'Twitter';\r\n      } else {\r\n        const sourceStr = item.source?.toString().toLowerCase();\r\n        normalizedSource = sourceStr === 'github' ? 'GitHub' :\r\n                         sourceStr === 'twitter' ? 'Twitter' :\r\n                         'Unknown';\r\n      }\r\n      \r\n      let url = content.url || '';\r\n      \r\n      if (!url && item.metadata) {\r\n        const metadata = parseMetadata(item.metadata);\r\n        if (metadata?.url) {\r\n          url = metadata.url;\r\n        }\r\n      }\r\n\r\n      return {\r\n        source: normalizedSource,\r\n        url,\r\n        body: content.body || `${normalizedSource} content`,\r\n        timestamp: content.timestamp < 10000000000\r\n          ? content.timestamp * 1000\r\n          : content.timestamp,\r\n        author: content.raw_meta?.author || content.author || 'Unknown',\r\n      };\r\n    } catch (error) {\r\n      console.error('Failed to parse content:', error);\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const formatTimestamp = (timestamp: number) => {\r\n    const ts = timestamp < 10000000000 ? timestamp * 1000 : timestamp;\r\n    const date = new Date(ts);\r\n    return date.toLocaleString('en-US', {\r\n      month: 'short',\r\n      day: 'numeric',\r\n      year: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  const getSourceColor = (source: string | number | undefined) => {\r\n    if (typeof source === 'number') {\r\n      return source === 0 ? 'var(--neon-violet)' : 'var(--neon-cyan)';\r\n    }\r\n    const normalizedSource = source?.toString().toLowerCase();\r\n    return normalizedSource === 'github' ? 'var(--neon-violet)' : 'var(--neon-cyan)';\r\n  };\r\n\r\n  // Filter items by source\r\n  const filteredItems = response?.items?.filter((item: ShadowItem) => {\r\n    if (filterSource === 'all') return true;\r\n    const content = parseContent(item);\r\n    return content?.source === filterSource;\r\n  }) || [];\r\n\r\n  const totalPages = response?.totalPages || 1;\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div style={{ textAlign: 'center', padding: '2rem' }}>\r\n        <div className=\"loading-dots\" style={{ justifyContent: 'center' }}>\r\n          <span></span>\r\n          <span></span>\r\n          <span></span>\r\n        </div>\r\n        <p style={{\r\n          fontFamily: 'var(--font-mono)',\r\n          color: 'var(--neon-violet)',\r\n          fontSize: '0.875rem',\r\n          marginTop: '1rem'\r\n        }}>\r\n          LOADING BLOCKCHAIN DATA...\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"shadow-card\" style={{\r\n        textAlign: 'center',\r\n        padding: '2rem',\r\n        border: '1px solid var(--error-crimson)'\r\n      }}>\r\n        <p style={{\r\n          fontFamily: 'var(--font-mono)',\r\n          color: 'var(--error-crimson)'\r\n        }}>\r\n          Failed to load blockchain data\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {/* Header with filters */}\r\n      <div style={{\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'space-between',\r\n        marginBottom: '2rem',\r\n        flexWrap: 'wrap',\r\n        gap: '1rem'\r\n      }}>\r\n        <div style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>\r\n          <h2 style={{\r\n            fontFamily: 'var(--font-display)',\r\n            fontSize: '1.25rem',\r\n            color: 'var(--ghost-white)',\r\n            letterSpacing: '0.05em'\r\n          }}>\r\n            ON-CHAIN SHADOW ITEMS\r\n          </h2>\r\n          <span style={{\r\n            fontFamily: 'var(--font-mono)',\r\n            fontSize: '0.75rem',\r\n            color: 'var(--corrupt-green)',\r\n            padding: '0.25rem 0.75rem',\r\n            border: '1px solid var(--corrupt-green)',\r\n            borderRadius: 'var(--radius-sharp)'\r\n          }}>\r\n            {response?.total || 0} CONFIRMED\r\n          </span>\r\n          {decryptionStatus === 'decrypting' && (\r\n            <span style={{\r\n              fontFamily: 'var(--font-mono)',\r\n              fontSize: '0.75rem',\r\n              color: 'var(--signal-blue)',\r\n              padding: '0.25rem 0.75rem',\r\n              border: '1px solid var(--signal-blue)',\r\n              borderRadius: 'var(--radius-sharp)'\r\n            }}>\r\n              üîì DECRYPTING...\r\n            </span>\r\n          )}\r\n        </div>\r\n\r\n        {/* Source filter */}\r\n        <div style={{\r\n          display: 'flex',\r\n          gap: '0.5rem',\r\n          fontFamily: 'var(--font-mono)',\r\n          fontSize: '0.813rem'\r\n        }}>\r\n          <button\r\n            onClick={() => setFilterSource('all')}\r\n            className={filterSource === 'all' ? 'btn-neon' : 'btn-shadow'}\r\n            style={{ padding: '0.375rem 0.75rem' }}\r\n          >\r\n            ALL\r\n          </button>\r\n          <button\r\n            onClick={() => setFilterSource('GitHub')}\r\n            className={filterSource === 'GitHub' ? 'btn-neon' : 'btn-shadow'}\r\n            style={{ \r\n              padding: '0.375rem 0.75rem',\r\n              borderColor: 'var(--neon-violet)',\r\n              color: filterSource === 'GitHub' ? 'var(--shadow-ink)' : 'var(--neon-violet)'\r\n            }}\r\n          >\r\n            GITHUB\r\n          </button>\r\n          <button\r\n            onClick={() => setFilterSource('Twitter')}\r\n            className={filterSource === 'Twitter' ? 'btn-neon' : 'btn-shadow'}\r\n            style={{ \r\n              padding: '0.375rem 0.75rem',\r\n              borderColor: 'var(--neon-cyan)',\r\n              color: filterSource === 'Twitter' ? 'var(--shadow-ink)' : 'var(--neon-cyan)'\r\n            }}\r\n          >\r\n            TWITTER\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {filteredItems.length > 0 ? (\r\n        <>\r\n          <div style={{ display: 'grid', gap: '1rem' }}>\r\n            {filteredItems.map((item: ShadowItem) => (\r\n              <div \r\n                key={item.id} \r\n                className=\"shadow-card\"\r\n                style={{ \r\n                  padding: '1.5rem',\r\n                  position: 'relative',\r\n                  borderLeft: `4px solid ${getSourceColor(item.source)}`\r\n                }}\r\n              >\r\n                {/* Content */}\r\n                {(() => {\r\n                  // First check if we have decrypted content\r\n                  const decrypted = decryptedItems.get(item.id);\r\n                  const content = decrypted || parseContent(item);\r\n                  \r\n                  if (!content) return null;\r\n                  \r\n                  return (\r\n                    <>\r\n                      <div style={{ \r\n                        display: 'flex', \r\n                        justifyContent: 'space-between',\r\n                        alignItems: 'flex-start',\r\n                        marginBottom: '1rem',\r\n                        gap: '1rem'\r\n                      }}>\r\n                        <div>\r\n                          <span style={{\r\n                            fontFamily: 'var(--font-tech)',\r\n                            fontSize: '0.875rem',\r\n                            fontWeight: 700,\r\n                            color: getSourceColor(item.source),\r\n                            letterSpacing: '0.1em'\r\n                          }}>\r\n                            [{content.source?.toUpperCase() || 'UNKNOWN'}]\r\n                          </span>\r\n                          <span style={{\r\n                            fontFamily: 'var(--font-mono)',\r\n                            fontSize: '0.75rem',\r\n                            color: 'var(--static-gray)',\r\n                            marginLeft: '1rem'\r\n                          }}>\r\n                            {formatTimestamp(item.timestamp)}\r\n                          </span>\r\n                        </div>\r\n                        \r\n                        <div style={{\r\n                          fontFamily: 'var(--font-mono)',\r\n                          fontSize: '0.688rem',\r\n                          color: decrypted ? 'var(--signal-blue)' : 'var(--corrupt-green)',\r\n                          padding: '0.25rem 0.5rem',\r\n                          border: `1px solid ${decrypted ? 'var(--signal-blue)' : 'var(--corrupt-green)'}`,\r\n                          borderRadius: 'var(--radius-sharp)'\r\n                        }}>\r\n                          {decrypted ? 'üîì DECRYPTED' : content.encrypted ? 'üîí ENCRYPTED' : 'CONFIRMED'}\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div style={{\r\n                        background: 'var(--shadow-void)',\r\n                        border: '1px solid rgba(57, 255, 20, 0.3)',\r\n                        borderRadius: 'var(--radius-sharp)',\r\n                        padding: '1rem',\r\n                        fontFamily: 'var(--font-mono)',\r\n                        fontSize: '0.813rem'\r\n                      }}>\r\n                        <div style={{ color: 'var(--ghost-white)', opacity: 0.9, whiteSpace: 'pre-wrap' }}>\r\n                          {content.content || content.body}\r\n                        </div>\r\n                        {content.author && (\r\n                          <div style={{\r\n                            color: 'var(--static-gray)',\r\n                            fontSize: '0.75rem',\r\n                            marginTop: '0.5rem'\r\n                          }}>\r\n                            by {content.author}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n\r\n                      {content.url && (\r\n                        <div style={{\r\n                          marginTop: '1rem',\r\n                          display: 'flex',\r\n                          justifyContent: 'space-between',\r\n                          alignItems: 'center',\r\n                          gap: '1rem'\r\n                        }}>\r\n                          <a\r\n                            href={content.url}\r\n                            target=\"_blank\"\r\n                            rel=\"noopener noreferrer\"\r\n                            style={{\r\n                              fontFamily: 'var(--font-mono)',\r\n                              fontSize: '0.75rem',\r\n                              color: 'var(--signal-blue)',\r\n                              textDecoration: 'none',\r\n                              borderBottom: '1px solid var(--signal-blue)',\r\n                              display: 'inline-block',\r\n                              maxWidth: '400px',\r\n                              overflow: 'hidden',\r\n                              textOverflow: 'ellipsis',\r\n                              whiteSpace: 'nowrap'\r\n                            }}\r\n                          >\r\n                            {content.url}\r\n                          </a>\r\n                          \r\n                          <button\r\n                            onClick={() => window.open(`https://polkadot.js.org/apps/?rpc=wss://rococo-rpc.polkadot.io#/explorer`, '_blank')}\r\n                            className=\"btn-shadow\"\r\n                            style={{\r\n                              padding: '0.375rem 0.75rem',\r\n                              fontSize: '0.688rem',\r\n                              whiteSpace: 'nowrap'\r\n                            }}\r\n                          >\r\n                            VIEW TX\r\n                          </button>\r\n                        </div>\r\n                      )}\r\n                    </>\r\n                  );\r\n                })()}\r\n              </div>\r\n            ))}\r\n          </div>\r\n          \r\n          {/* Pagination */}\r\n          {totalPages > 1 && (\r\n            <div style={{\r\n              display: 'flex',\r\n              justifyContent: 'center',\r\n              alignItems: 'center',\r\n              gap: '1rem',\r\n              marginTop: '2rem'\r\n            }}>\r\n              <button\r\n                onClick={() => setCurrentPage(Math.max(1, currentPage - 1))}\r\n                disabled={currentPage === 1}\r\n                className=\"btn-shadow\"\r\n                style={{\r\n                  padding: '0.5rem 1rem',\r\n                  opacity: currentPage === 1 ? 0.5 : 1\r\n                }}\r\n              >\r\n                ‚Üê PREV\r\n              </button>\r\n              \r\n              <span style={{\r\n                fontFamily: 'var(--font-mono)',\r\n                fontSize: '0.875rem',\r\n                color: 'var(--ghost-white)'\r\n              }}>\r\n                PAGE {currentPage} / {totalPages}\r\n              </span>\r\n              \r\n              <button\r\n                onClick={() => setCurrentPage(Math.min(totalPages, currentPage + 1))}\r\n                disabled={currentPage === totalPages}\r\n                className=\"btn-shadow\"\r\n                style={{\r\n                  padding: '0.5rem 1rem',\r\n                  opacity: currentPage === totalPages ? 0.5 : 1\r\n                }}\r\n              >\r\n                NEXT ‚Üí\r\n              </button>\r\n            </div>\r\n          )}\r\n        </>\r\n      ) : (\r\n        <div className=\"shadow-card\" style={{\r\n          textAlign: 'center',\r\n          padding: '3rem'\r\n        }}>\r\n          <div style={{ \r\n            fontSize: '3rem',\r\n            color: 'var(--shadow-steel)',\r\n            marginBottom: '1rem'\r\n          }}>\r\n            ‚¨¢\r\n          </div>\r\n          <p style={{\r\n            fontFamily: 'var(--font-display)',\r\n            fontSize: '1rem',\r\n            color: 'var(--ghost-white)',\r\n            marginBottom: '0.5rem'\r\n          }}>\r\n            NO ON-CHAIN ITEMS\r\n          </p>\r\n          <p style={{\r\n            fontFamily: 'var(--font-mono)',\r\n            fontSize: '0.813rem',\r\n            color: 'var(--static-gray)'\r\n          }}>\r\n            Submit shadow items to see them here\r\n          </p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}