{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Documents\\\\Keiths\\\\Polkadot\\\\shadowchain\\\\frontend\\\\src\\\\components\\\\EncryptionKeySetup.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useWalletStore } from '../store/wallet';\nimport { cryptoService } from '../services/crypto';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\nimport { config } from '../config/environment';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const EncryptionKeySetup = ({\n  onComplete,\n  onSkip\n}) => {\n  _s();\n  const {\n    selectedAccount\n  } = useWalletStore();\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [hasExistingKey, setHasExistingKey] = useState(false);\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n  const [step, setStep] = useState('intro');\n  useEffect(() => {\n    // Check if user already has an encryption key\n    const checkExistingKey = async () => {\n      if (cryptoService.hasStoredKeyPair()) {\n        setHasExistingKey(true);\n      }\n    };\n    checkExistingKey();\n  }, []);\n  const handleGenerateKey = async () => {\n    if (password !== confirmPassword) {\n      toast.error('Passwords do not match');\n      return;\n    }\n    if (password.length < 8) {\n      toast.error('Password must be at least 8 characters');\n      return;\n    }\n    if (!selectedAccount) {\n      toast.error('No wallet connected');\n      return;\n    }\n    setIsGenerating(true);\n    setStep('generating');\n    try {\n      // Generate new keypair\n      const keyPair = await cryptoService.generateKeyPair();\n\n      // Store keypair with password\n      await cryptoService.storeKeyPair(keyPair, password);\n\n      // Create ownership message\n      const message = cryptoService.createKeyOwnershipMessage(selectedAccount.address, keyPair.publicKey);\n\n      // Sign the message with Polkadot account\n      const {\n        injector\n      } = useWalletStore.getState();\n      if (!injector || !injector.signer.signRaw) {\n        throw new Error('Wallet does not support message signing');\n      }\n      const {\n        signature\n      } = await injector.signer.signRaw({\n        address: selectedAccount.address,\n        data: message,\n        type: 'bytes'\n      });\n\n      // Register the key with the backend\n      const apiUrl = config.api.baseUrl;\n      await axios.post(`${apiUrl}/auth/register-encryption-key`, {\n        userAddress: selectedAccount.address,\n        publicKey: keyPair.publicKey,\n        signedMessage: signature\n      });\n      toast.success('Encryption key created and registered!');\n      setStep('complete');\n\n      // Call completion callback\n      if (onComplete) {\n        setTimeout(onComplete, 1500);\n      }\n    } catch (error) {\n      console.error('Failed to generate encryption key:', error);\n      toast.error('Failed to create encryption key');\n      setStep('password');\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n  const handleUnlockExisting = async () => {\n    try {\n      const unlocked = await cryptoService.loadKeyPair(password);\n      if (unlocked) {\n        toast.success('Encryption key unlocked!');\n        if (onComplete) {\n          onComplete();\n        }\n      } else {\n        toast.error('Invalid password');\n      }\n    } catch (error) {\n      toast.error('Failed to unlock encryption key');\n    }\n  };\n  if (hasExistingKey) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"encryption-setup\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"shadow-card\",\n        style: {\n          maxWidth: '400px',\n          margin: '0 auto'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            fontFamily: 'var(--font-display)',\n            fontSize: '1.5rem',\n            marginBottom: '1rem',\n            textAlign: 'center',\n            color: 'var(--corrupt-green)'\n          },\n          children: \"\\uD83D\\uDD13 UNLOCK ENCRYPTION KEY\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontFamily: 'var(--font-mono)',\n            fontSize: '0.875rem',\n            color: 'var(--static-gray)',\n            marginBottom: '2rem',\n            textAlign: 'center'\n          },\n          children: \"Enter your password to unlock your encryption key\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '1.5rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              fontFamily: 'var(--font-mono)',\n              fontSize: '0.813rem',\n              color: 'var(--ghost-white)',\n              marginBottom: '0.5rem'\n            },\n            children: \"PASSWORD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: 'relative'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: showPassword ? 'text' : 'password',\n              value: password,\n              onChange: e => setPassword(e.target.value),\n              onKeyPress: e => e.key === 'Enter' && handleUnlockExisting(),\n              style: {\n                width: '100%',\n                padding: '0.75rem',\n                background: 'var(--shadow-void)',\n                border: '1px solid var(--neon-violet)',\n                borderRadius: 'var(--radius-sharp)',\n                fontFamily: 'var(--font-mono)',\n                fontSize: '0.875rem',\n                color: 'var(--ghost-white)'\n              },\n              placeholder: \"Enter your password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => setShowPassword(!showPassword),\n              style: {\n                position: 'absolute',\n                right: '0.75rem',\n                top: '50%',\n                transform: 'translateY(-50%)',\n                background: 'none',\n                border: 'none',\n                color: 'var(--static-gray)',\n                cursor: 'pointer',\n                fontFamily: 'var(--font-mono)',\n                fontSize: '0.75rem'\n              },\n              children: showPassword ? 'HIDE' : 'SHOW'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleUnlockExisting,\n            className: \"btn-neon\",\n            style: {\n              flex: 1\n            },\n            children: \"UNLOCK\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this), onSkip && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onSkip,\n            className: \"btn-shadow\",\n            style: {\n              flex: 1\n            },\n            children: \"SKIP\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"encryption-setup\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"shadow-card\",\n      style: {\n        maxWidth: '500px',\n        margin: '0 auto'\n      },\n      children: [step === 'intro' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            fontFamily: 'var(--font-display)',\n            fontSize: '1.5rem',\n            marginBottom: '1rem',\n            textAlign: 'center',\n            color: 'var(--corrupt-green)'\n          },\n          children: \"\\uD83D\\uDD10 SECURE YOUR SHADOW ITEMS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: 'var(--shadow-void)',\n            border: '1px solid var(--signal-blue)',\n            borderRadius: 'var(--radius-sharp)',\n            padding: '1rem',\n            marginBottom: '2rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontFamily: 'var(--font-mono)',\n              fontSize: '0.875rem',\n              color: 'var(--ghost-white)',\n              marginBottom: '1rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"End-to-End Encryption\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 17\n            }, this), \" protects your GitHub commits and social posts\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            style: {\n              fontFamily: 'var(--font-mono)',\n              fontSize: '0.813rem',\n              color: 'var(--static-gray)',\n              paddingLeft: '1.5rem',\n              margin: 0\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Only YOU can decrypt your content\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Backend never sees your private key\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Content encrypted before leaving your device\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Secure key storage in your browser\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setStep('password'),\n            className: \"btn-neon\",\n            style: {\n              flex: 1\n            },\n            children: \"CREATE ENCRYPTION KEY\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 15\n          }, this), onSkip && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onSkip,\n            className: \"btn-shadow\",\n            style: {\n              flex: 1\n            },\n            children: \"SKIP FOR NOW\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), step === 'password' && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            fontFamily: 'var(--font-display)',\n            fontSize: '1.5rem',\n            marginBottom: '1rem',\n            textAlign: 'center',\n            color: 'var(--corrupt-green)'\n          },\n          children: \"\\uD83D\\uDD11 CREATE KEY PASSWORD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontFamily: 'var(--font-mono)',\n            fontSize: '0.813rem',\n            color: 'var(--static-gray)',\n            marginBottom: '2rem',\n            textAlign: 'center'\n          },\n          children: [\"This password encrypts your private key locally.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            style: {\n              color: 'var(--error-crimson)'\n            },\n            children: \"IMPORTANT: This cannot be recovered if lost!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '1.5rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              fontFamily: 'var(--font-mono)',\n              fontSize: '0.813rem',\n              color: 'var(--ghost-white)',\n              marginBottom: '0.5rem'\n            },\n            children: \"PASSWORD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: showPassword ? 'text' : 'password',\n            value: password,\n            onChange: e => setPassword(e.target.value),\n            style: {\n              width: '100%',\n              padding: '0.75rem',\n              background: 'var(--shadow-void)',\n              border: '1px solid var(--neon-violet)',\n              borderRadius: 'var(--radius-sharp)',\n              fontFamily: 'var(--font-mono)',\n              fontSize: '0.875rem',\n              color: 'var(--ghost-white)'\n            },\n            placeholder: \"Min 8 characters\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '2rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              fontFamily: 'var(--font-mono)',\n              fontSize: '0.813rem',\n              color: 'var(--ghost-white)',\n              marginBottom: '0.5rem'\n            },\n            children: \"CONFIRM PASSWORD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: showPassword ? 'text' : 'password',\n            value: confirmPassword,\n            onChange: e => setConfirmPassword(e.target.value),\n            onKeyPress: e => e.key === 'Enter' && handleGenerateKey(),\n            style: {\n              width: '100%',\n              padding: '0.75rem',\n              background: 'var(--shadow-void)',\n              border: '1px solid var(--neon-violet)',\n              borderRadius: 'var(--radius-sharp)',\n              fontFamily: 'var(--font-mono)',\n              fontSize: '0.875rem',\n              color: 'var(--ghost-white)'\n            },\n            placeholder: \"Confirm password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleGenerateKey,\n            className: \"btn-neon\",\n            style: {\n              flex: 1\n            },\n            disabled: !password || password !== confirmPassword,\n            children: \"GENERATE KEY\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setStep('intro'),\n            className: \"btn-shadow\",\n            style: {\n              flex: 1\n            },\n            children: \"BACK\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), step === 'generating' && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          padding: '3rem 0'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-dots\",\n          style: {\n            justifyContent: 'center',\n            marginBottom: '2rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontFamily: 'var(--font-mono)',\n            fontSize: '0.875rem',\n            color: 'var(--neon-violet)'\n          },\n          children: \"GENERATING ENCRYPTION KEY...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontFamily: 'var(--font-mono)',\n            fontSize: '0.75rem',\n            color: 'var(--static-gray)',\n            marginTop: '0.5rem'\n          },\n          children: \"Please sign the message in your wallet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 11\n      }, this), step === 'complete' && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          padding: '3rem 0'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '4rem',\n            marginBottom: '1rem',\n            color: 'var(--corrupt-green)'\n          },\n          children: \"\\u2713\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            fontFamily: 'var(--font-display)',\n            fontSize: '1.5rem',\n            marginBottom: '0.5rem',\n            color: 'var(--corrupt-green)'\n          },\n          children: \"ENCRYPTION KEY CREATED!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontFamily: 'var(--font-mono)',\n            fontSize: '0.875rem',\n            color: 'var(--static-gray)'\n          },\n          children: \"Your shadow items will now be encrypted end-to-end\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 216,\n    columnNumber: 5\n  }, this);\n};\n_s(EncryptionKeySetup, \"7mw70LcblZYQWUVq+MgjGDg5V8Q=\", false, function () {\n  return [useWalletStore];\n});\n_c = EncryptionKeySetup;\nvar _c;\n$RefreshReg$(_c, \"EncryptionKeySetup\");","map":{"version":3,"names":["React","useState","useEffect","useWalletStore","cryptoService","axios","toast","config","jsxDEV","_jsxDEV","Fragment","_Fragment","EncryptionKeySetup","onComplete","onSkip","_s","selectedAccount","isGenerating","setIsGenerating","hasExistingKey","setHasExistingKey","password","setPassword","confirmPassword","setConfirmPassword","showPassword","setShowPassword","step","setStep","checkExistingKey","hasStoredKeyPair","handleGenerateKey","error","length","keyPair","generateKeyPair","storeKeyPair","message","createKeyOwnershipMessage","address","publicKey","injector","getState","signer","signRaw","Error","signature","data","type","apiUrl","api","baseUrl","post","userAddress","signedMessage","success","setTimeout","console","handleUnlockExisting","unlocked","loadKeyPair","className","children","style","maxWidth","margin","fontFamily","fontSize","marginBottom","textAlign","color","fileName","_jsxFileName","lineNumber","columnNumber","display","position","value","onChange","e","target","onKeyPress","key","width","padding","background","border","borderRadius","placeholder","onClick","right","top","transform","cursor","gap","flex","paddingLeft","disabled","justifyContent","marginTop","_c","$RefreshReg$"],"sources":["C:/Users/Admin/Documents/Keiths/Polkadot/shadowchain/frontend/src/components/EncryptionKeySetup.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useWalletStore } from '../store/wallet';\r\nimport { cryptoService } from '../services/crypto';\r\nimport axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\nimport { config } from '../config/environment';\r\n\r\ninterface EncryptionKeySetupProps {\r\n  onComplete?: () => void;\r\n  onSkip?: () => void;\r\n}\r\n\r\nexport const EncryptionKeySetup: React.FC<EncryptionKeySetupProps> = ({ \r\n  onComplete, \r\n  onSkip \r\n}) => {\r\n  const { selectedAccount } = useWalletStore();\r\n  const [isGenerating, setIsGenerating] = useState(false);\r\n  const [hasExistingKey, setHasExistingKey] = useState(false);\r\n  const [password, setPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [step, setStep] = useState<'intro' | 'password' | 'generating' | 'complete'>('intro');\r\n\r\n  useEffect(() => {\r\n    // Check if user already has an encryption key\r\n    const checkExistingKey = async () => {\r\n      if (cryptoService.hasStoredKeyPair()) {\r\n        setHasExistingKey(true);\r\n      }\r\n    };\r\n    checkExistingKey();\r\n  }, []);\r\n\r\n  const handleGenerateKey = async () => {\r\n    if (password !== confirmPassword) {\r\n      toast.error('Passwords do not match');\r\n      return;\r\n    }\r\n\r\n    if (password.length < 8) {\r\n      toast.error('Password must be at least 8 characters');\r\n      return;\r\n    }\r\n\r\n    if (!selectedAccount) {\r\n      toast.error('No wallet connected');\r\n      return;\r\n    }\r\n\r\n    setIsGenerating(true);\r\n    setStep('generating');\r\n\r\n    try {\r\n      // Generate new keypair\r\n      const keyPair = await cryptoService.generateKeyPair();\r\n      \r\n      // Store keypair with password\r\n      await cryptoService.storeKeyPair(keyPair, password);\r\n      \r\n      // Create ownership message\r\n      const message = cryptoService.createKeyOwnershipMessage(\r\n        selectedAccount.address,\r\n        keyPair.publicKey\r\n      );\r\n      \r\n      // Sign the message with Polkadot account\r\n      const { injector } = useWalletStore.getState();\r\n      if (!injector || !injector.signer.signRaw) {\r\n        throw new Error('Wallet does not support message signing');\r\n      }\r\n      \r\n      const { signature } = await injector.signer.signRaw({\r\n        address: selectedAccount.address,\r\n        data: message,\r\n        type: 'bytes'\r\n      });\r\n\r\n      // Register the key with the backend\r\n      const apiUrl = config.api.baseUrl;\r\n      await axios.post(`${apiUrl}/auth/register-encryption-key`, {\r\n        userAddress: selectedAccount.address,\r\n        publicKey: keyPair.publicKey,\r\n        signedMessage: signature\r\n      });\r\n\r\n      toast.success('Encryption key created and registered!');\r\n      setStep('complete');\r\n      \r\n      // Call completion callback\r\n      if (onComplete) {\r\n        setTimeout(onComplete, 1500);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to generate encryption key:', error);\r\n      toast.error('Failed to create encryption key');\r\n      setStep('password');\r\n    } finally {\r\n      setIsGenerating(false);\r\n    }\r\n  };\r\n\r\n  const handleUnlockExisting = async () => {\r\n    try {\r\n      const unlocked = await cryptoService.loadKeyPair(password);\r\n      if (unlocked) {\r\n        toast.success('Encryption key unlocked!');\r\n        if (onComplete) {\r\n          onComplete();\r\n        }\r\n      } else {\r\n        toast.error('Invalid password');\r\n      }\r\n    } catch (error) {\r\n      toast.error('Failed to unlock encryption key');\r\n    }\r\n  };\r\n\r\n  if (hasExistingKey) {\r\n    return (\r\n      <div className=\"encryption-setup\">\r\n        <div className=\"shadow-card\" style={{ maxWidth: '400px', margin: '0 auto' }}>\r\n          <h3 style={{\r\n            fontFamily: 'var(--font-display)',\r\n            fontSize: '1.5rem',\r\n            marginBottom: '1rem',\r\n            textAlign: 'center',\r\n            color: 'var(--corrupt-green)'\r\n          }}>\r\n            üîì UNLOCK ENCRYPTION KEY\r\n          </h3>\r\n          \r\n          <p style={{\r\n            fontFamily: 'var(--font-mono)',\r\n            fontSize: '0.875rem',\r\n            color: 'var(--static-gray)',\r\n            marginBottom: '2rem',\r\n            textAlign: 'center'\r\n          }}>\r\n            Enter your password to unlock your encryption key\r\n          </p>\r\n\r\n          <div style={{ marginBottom: '1.5rem' }}>\r\n            <label style={{\r\n              display: 'block',\r\n              fontFamily: 'var(--font-mono)',\r\n              fontSize: '0.813rem',\r\n              color: 'var(--ghost-white)',\r\n              marginBottom: '0.5rem'\r\n            }}>\r\n              PASSWORD\r\n            </label>\r\n            <div style={{ position: 'relative' }}>\r\n              <input\r\n                type={showPassword ? 'text' : 'password'}\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                onKeyPress={(e) => e.key === 'Enter' && handleUnlockExisting()}\r\n                style={{\r\n                  width: '100%',\r\n                  padding: '0.75rem',\r\n                  background: 'var(--shadow-void)',\r\n                  border: '1px solid var(--neon-violet)',\r\n                  borderRadius: 'var(--radius-sharp)',\r\n                  fontFamily: 'var(--font-mono)',\r\n                  fontSize: '0.875rem',\r\n                  color: 'var(--ghost-white)'\r\n                }}\r\n                placeholder=\"Enter your password\"\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setShowPassword(!showPassword)}\r\n                style={{\r\n                  position: 'absolute',\r\n                  right: '0.75rem',\r\n                  top: '50%',\r\n                  transform: 'translateY(-50%)',\r\n                  background: 'none',\r\n                  border: 'none',\r\n                  color: 'var(--static-gray)',\r\n                  cursor: 'pointer',\r\n                  fontFamily: 'var(--font-mono)',\r\n                  fontSize: '0.75rem'\r\n                }}\r\n              >\r\n                {showPassword ? 'HIDE' : 'SHOW'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div style={{ display: 'flex', gap: '1rem' }}>\r\n            <button\r\n              onClick={handleUnlockExisting}\r\n              className=\"btn-neon\"\r\n              style={{ flex: 1 }}\r\n            >\r\n              UNLOCK\r\n            </button>\r\n            {onSkip && (\r\n              <button\r\n                onClick={onSkip}\r\n                className=\"btn-shadow\"\r\n                style={{ flex: 1 }}\r\n              >\r\n                SKIP\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"encryption-setup\">\r\n      <div className=\"shadow-card\" style={{ maxWidth: '500px', margin: '0 auto' }}>\r\n        {step === 'intro' && (\r\n          <>\r\n            <h3 style={{\r\n              fontFamily: 'var(--font-display)',\r\n              fontSize: '1.5rem',\r\n              marginBottom: '1rem',\r\n              textAlign: 'center',\r\n              color: 'var(--corrupt-green)'\r\n            }}>\r\n              üîê SECURE YOUR SHADOW ITEMS\r\n            </h3>\r\n            \r\n            <div style={{\r\n              background: 'var(--shadow-void)',\r\n              border: '1px solid var(--signal-blue)',\r\n              borderRadius: 'var(--radius-sharp)',\r\n              padding: '1rem',\r\n              marginBottom: '2rem'\r\n            }}>\r\n              <p style={{\r\n                fontFamily: 'var(--font-mono)',\r\n                fontSize: '0.875rem',\r\n                color: 'var(--ghost-white)',\r\n                marginBottom: '1rem'\r\n              }}>\r\n                <strong>End-to-End Encryption</strong> protects your GitHub commits and social posts\r\n              </p>\r\n              <ul style={{\r\n                fontFamily: 'var(--font-mono)',\r\n                fontSize: '0.813rem',\r\n                color: 'var(--static-gray)',\r\n                paddingLeft: '1.5rem',\r\n                margin: 0\r\n              }}>\r\n                <li>Only YOU can decrypt your content</li>\r\n                <li>Backend never sees your private key</li>\r\n                <li>Content encrypted before leaving your device</li>\r\n                <li>Secure key storage in your browser</li>\r\n              </ul>\r\n            </div>\r\n\r\n            <div style={{ display: 'flex', gap: '1rem' }}>\r\n              <button\r\n                onClick={() => setStep('password')}\r\n                className=\"btn-neon\"\r\n                style={{ flex: 1 }}\r\n              >\r\n                CREATE ENCRYPTION KEY\r\n              </button>\r\n              {onSkip && (\r\n                <button\r\n                  onClick={onSkip}\r\n                  className=\"btn-shadow\"\r\n                  style={{ flex: 1 }}\r\n                >\r\n                  SKIP FOR NOW\r\n                </button>\r\n              )}\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        {step === 'password' && (\r\n          <>\r\n            <h3 style={{\r\n              fontFamily: 'var(--font-display)',\r\n              fontSize: '1.5rem',\r\n              marginBottom: '1rem',\r\n              textAlign: 'center',\r\n              color: 'var(--corrupt-green)'\r\n            }}>\r\n              üîë CREATE KEY PASSWORD\r\n            </h3>\r\n\r\n            <p style={{\r\n              fontFamily: 'var(--font-mono)',\r\n              fontSize: '0.813rem',\r\n              color: 'var(--static-gray)',\r\n              marginBottom: '2rem',\r\n              textAlign: 'center'\r\n            }}>\r\n              This password encrypts your private key locally.\r\n              <br />\r\n              <strong style={{ color: 'var(--error-crimson)' }}>\r\n                IMPORTANT: This cannot be recovered if lost!\r\n              </strong>\r\n            </p>\r\n\r\n            <div style={{ marginBottom: '1.5rem' }}>\r\n              <label style={{\r\n                display: 'block',\r\n                fontFamily: 'var(--font-mono)',\r\n                fontSize: '0.813rem',\r\n                color: 'var(--ghost-white)',\r\n                marginBottom: '0.5rem'\r\n              }}>\r\n                PASSWORD\r\n              </label>\r\n              <input\r\n                type={showPassword ? 'text' : 'password'}\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                style={{\r\n                  width: '100%',\r\n                  padding: '0.75rem',\r\n                  background: 'var(--shadow-void)',\r\n                  border: '1px solid var(--neon-violet)',\r\n                  borderRadius: 'var(--radius-sharp)',\r\n                  fontFamily: 'var(--font-mono)',\r\n                  fontSize: '0.875rem',\r\n                  color: 'var(--ghost-white)'\r\n                }}\r\n                placeholder=\"Min 8 characters\"\r\n              />\r\n            </div>\r\n\r\n            <div style={{ marginBottom: '2rem' }}>\r\n              <label style={{\r\n                display: 'block',\r\n                fontFamily: 'var(--font-mono)',\r\n                fontSize: '0.813rem',\r\n                color: 'var(--ghost-white)',\r\n                marginBottom: '0.5rem'\r\n              }}>\r\n                CONFIRM PASSWORD\r\n              </label>\r\n              <input\r\n                type={showPassword ? 'text' : 'password'}\r\n                value={confirmPassword}\r\n                onChange={(e) => setConfirmPassword(e.target.value)}\r\n                onKeyPress={(e) => e.key === 'Enter' && handleGenerateKey()}\r\n                style={{\r\n                  width: '100%',\r\n                  padding: '0.75rem',\r\n                  background: 'var(--shadow-void)',\r\n                  border: '1px solid var(--neon-violet)',\r\n                  borderRadius: 'var(--radius-sharp)',\r\n                  fontFamily: 'var(--font-mono)',\r\n                  fontSize: '0.875rem',\r\n                  color: 'var(--ghost-white)'\r\n                }}\r\n                placeholder=\"Confirm password\"\r\n              />\r\n            </div>\r\n\r\n            <div style={{ display: 'flex', gap: '1rem' }}>\r\n              <button\r\n                onClick={handleGenerateKey}\r\n                className=\"btn-neon\"\r\n                style={{ flex: 1 }}\r\n                disabled={!password || password !== confirmPassword}\r\n              >\r\n                GENERATE KEY\r\n              </button>\r\n              <button\r\n                onClick={() => setStep('intro')}\r\n                className=\"btn-shadow\"\r\n                style={{ flex: 1 }}\r\n              >\r\n                BACK\r\n              </button>\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        {step === 'generating' && (\r\n          <div style={{ textAlign: 'center', padding: '3rem 0' }}>\r\n            <div className=\"loading-dots\" style={{ justifyContent: 'center', marginBottom: '2rem' }}>\r\n              <span></span>\r\n              <span></span>\r\n              <span></span>\r\n            </div>\r\n            <p style={{\r\n              fontFamily: 'var(--font-mono)',\r\n              fontSize: '0.875rem',\r\n              color: 'var(--neon-violet)'\r\n            }}>\r\n              GENERATING ENCRYPTION KEY...\r\n            </p>\r\n            <p style={{\r\n              fontFamily: 'var(--font-mono)',\r\n              fontSize: '0.75rem',\r\n              color: 'var(--static-gray)',\r\n              marginTop: '0.5rem'\r\n            }}>\r\n              Please sign the message in your wallet\r\n            </p>\r\n          </div>\r\n        )}\r\n\r\n        {step === 'complete' && (\r\n          <div style={{ textAlign: 'center', padding: '3rem 0' }}>\r\n            <div style={{\r\n              fontSize: '4rem',\r\n              marginBottom: '1rem',\r\n              color: 'var(--corrupt-green)'\r\n            }}>\r\n              ‚úì\r\n            </div>\r\n            <h3 style={{\r\n              fontFamily: 'var(--font-display)',\r\n              fontSize: '1.5rem',\r\n              marginBottom: '0.5rem',\r\n              color: 'var(--corrupt-green)'\r\n            }}>\r\n              ENCRYPTION KEY CREATED!\r\n            </h3>\r\n            <p style={{\r\n              fontFamily: 'var(--font-mono)',\r\n              fontSize: '0.875rem',\r\n              color: 'var(--static-gray)'\r\n            }}>\r\n              Your shadow items will now be encrypted end-to-end\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}