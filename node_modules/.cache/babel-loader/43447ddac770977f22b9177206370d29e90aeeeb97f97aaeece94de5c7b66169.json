{"ast":null,"code":"import { isUndefined } from '@polkadot/util';\nfunction sig({\n  lookup\n}, {\n  method,\n  section\n}, args) {\n  return `${section}.${method}(${args.map(a => lookup.getTypeDef(a).type).join(', ')})`;\n}\nexport function extractStorageArgs(registry, creator, _args) {\n  const args = _args.filter(a => !isUndefined(a));\n  if (creator.meta.type.isPlain) {\n    if (args.length !== 0) {\n      throw new Error(`${sig(registry, creator, [])} does not take any arguments, ${args.length} found`);\n    }\n  } else {\n    const {\n      hashers,\n      key\n    } = creator.meta.type.asMap;\n    const keys = hashers.length === 1 ? [key] : registry.lookup.getSiType(key).def.asTuple.map(t => t);\n    if (args.length !== keys.length) {\n      throw new Error(`${sig(registry, creator, keys)} is a map, requiring ${keys.length} arguments, ${args.length} found`);\n    }\n  }\n  // pass as tuple\n  return [creator, args];\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}