{"ast":null,"code":"import { sshash } from './sshash.js';\nexport function checkAddressChecksum(decoded) {\n  const ss58Length = decoded[0] & 0b0100_0000 ? 2 : 1;\n  const ss58Decoded = ss58Length === 1 ? decoded[0] : (decoded[0] & 0b0011_1111) << 2 | decoded[1] >> 6 | (decoded[1] & 0b0011_1111) << 8;\n  // 32/33 bytes public + 2 bytes checksum + prefix\n  const isPublicKey = [34 + ss58Length, 35 + ss58Length].includes(decoded.length);\n  const length = decoded.length - (isPublicKey ? 2 : 1);\n  // calculate the hash and do the checksum byte checks\n  const hash = sshash(decoded.subarray(0, length));\n  const isValid = (decoded[0] & 0b1000_0000) === 0 && ![46, 47].includes(decoded[0]) && (isPublicKey ? decoded[decoded.length - 2] === hash[0] && decoded[decoded.length - 1] === hash[1] : decoded[decoded.length - 1] === hash[0]);\n  return [isValid, length, ss58Length, ss58Decoded];\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}