{"ast":null,"code":"import { secp256k1 } from '@noble/curves/secp256k1';\nimport { hasBigInt, u8aToU8a } from '@polkadot/util';\nimport { isReady, secp256k1Recover as wasm } from '@polkadot/wasm-crypto';\nimport { secp256k1Compress } from './compress.js';\nimport { secp256k1Expand } from './expand.js';\n/**\n * @name secp256k1Recover\n * @description Recovers a publicKey from the supplied signature\n */\nexport function secp256k1Recover(msgHash, signature, recovery, hashType = 'blake2', onlyJs) {\n  const sig = u8aToU8a(signature).subarray(0, 64);\n  const msg = u8aToU8a(msgHash);\n  const publicKey = !hasBigInt || !onlyJs && isReady() ? wasm(msg, sig, recovery) : secp256k1.Signature.fromCompact(sig).addRecoveryBit(recovery).recoverPublicKey(msg).toRawBytes();\n  if (!publicKey) {\n    throw new Error('Unable to recover publicKey from signature');\n  }\n  return hashType === 'keccak' ? secp256k1Expand(publicKey, onlyJs) : secp256k1Compress(publicKey, onlyJs);\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}