{"ast":null,"code":"import { catchError, distinctUntilChanged, publishReplay, refCount, tap } from 'rxjs';\nimport { stringify } from '@polkadot/util';\nimport { refCountDelay } from './refCountDelay.js';\nfunction CMP(a, b) {\n  return stringify({\n    t: a\n  }) === stringify({\n    t: b\n  });\n}\nfunction ERR(error) {\n  throw error;\n}\nfunction NOOP() {\n  // empty\n}\n/**\n * Shorthand for distinctUntilChanged(), publishReplay(1) and refCount().\n *\n * @ignore\n * @internal\n */\nexport function drr({\n  delay,\n  skipChange = false,\n  skipTimeout = false\n} = {}) {\n  return source$ => source$.pipe(catchError(ERR), skipChange ? tap(NOOP) : distinctUntilChanged(CMP),\n  // eslint-disable-next-line deprecation/deprecation\n  publishReplay(1), skipTimeout\n  // eslint-disable-next-line deprecation/deprecation\n  ? refCount() : refCountDelay(delay));\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}