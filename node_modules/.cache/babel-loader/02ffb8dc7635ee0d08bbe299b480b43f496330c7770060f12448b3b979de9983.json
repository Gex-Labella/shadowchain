{"ast":null,"code":"import { map, switchMap } from 'rxjs';\nimport { arrayFlatten } from '@polkadot/util';\nimport { memo } from '../util/index.js';\nconst DEFAULT_FLAGS = {\n  withController: true,\n  withExposure: true,\n  withPrefs: true\n};\nfunction combineAccounts(nextElected, validators) {\n  return arrayFlatten([nextElected, validators.filter(v => !nextElected.find(n => n.eq(v)))]);\n}\nexport function electedInfo(instanceId, api) {\n  return memo(instanceId, (flags = DEFAULT_FLAGS, page = 0) => api.derive.staking.validators().pipe(switchMap(({\n    nextElected,\n    validators\n  }) => api.derive.staking.queryMulti(combineAccounts(nextElected, validators), flags, page).pipe(map(info => ({\n    info,\n    nextElected,\n    validators\n  }))))));\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}