{"ast":null,"code":"import { BN, bnToU8a, compactAddLength, hexToU8a, isBigInt, isBn, isHex, isNumber, isString, stringToU8a } from '@polkadot/util';\nimport { blake2AsU8a } from '../blake2/asU8a.js';\nimport { BN_LE_256_OPTS } from '../bn.js';\nconst RE_NUMBER = /^\\d+$/;\nconst JUNCTION_ID_LEN = 32;\nexport class DeriveJunction {\n  __internal__chainCode = new Uint8Array(32);\n  __internal__isHard = false;\n  static from(value) {\n    const result = new DeriveJunction();\n    const [code, isHard] = value.startsWith('/') ? [value.substring(1), true] : [value, false];\n    result.soft(RE_NUMBER.test(code) ? new BN(code, 10) : code);\n    return isHard ? result.harden() : result;\n  }\n  get chainCode() {\n    return this.__internal__chainCode;\n  }\n  get isHard() {\n    return this.__internal__isHard;\n  }\n  get isSoft() {\n    return !this.__internal__isHard;\n  }\n  hard(value) {\n    return this.soft(value).harden();\n  }\n  harden() {\n    this.__internal__isHard = true;\n    return this;\n  }\n  soft(value) {\n    if (isNumber(value) || isBn(value) || isBigInt(value)) {\n      return this.soft(bnToU8a(value, BN_LE_256_OPTS));\n    } else if (isHex(value)) {\n      return this.soft(hexToU8a(value));\n    } else if (isString(value)) {\n      return this.soft(compactAddLength(stringToU8a(value)));\n    } else if (value.length > JUNCTION_ID_LEN) {\n      return this.soft(blake2AsU8a(value));\n    }\n    this.__internal__chainCode.fill(0);\n    this.__internal__chainCode.set(value, 0);\n    return this;\n  }\n  soften() {\n    this.__internal__isHard = false;\n    return this;\n  }\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}